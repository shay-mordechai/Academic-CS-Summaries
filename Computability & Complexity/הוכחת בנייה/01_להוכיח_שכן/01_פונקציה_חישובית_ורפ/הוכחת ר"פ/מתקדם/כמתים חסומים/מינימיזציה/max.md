### 2. שאלות הדורשות אופרטורים חסומים מתקדמים (מינימיזציה/מקסימיזציה)

מינימיזציה חסומה ומקסימיזציה חסומה הן תבניות עיקריות במבחנים, והן תלויות באופן ישיר בכמתים חסומים:

- **פונקציית החלוקה השלמה (Floor Division):** הפונקציה $f(x,y) = \lfloor x/y \rfloor$ (המנה השלמה) היא ר"פ והוכחת הר"פ-יות שלה דורשת שימוש ב**מינימיזציה חסומה** ($\min_{t \leq x}$): $$f(x,y) = \min_{t \leq x} [(t+1) \cdot y > x]$$ הפרדיקט $P(t, x, y) = [(t+1) \cdot y > x]$ הוא ר"פ, מכיוון שהוא מורכב מפעולות ר"פ (כפל, חיבור) ומפרדיקט "גדול מ-" ($>$), שהוא עצמו ר"פ.
- **המחלק המשותף הגדול ביותר ($\text{gcd}(x,y)$):** נשאל במבחנים להוכיח כי $\text{gcd}(x,y)$ הוא ר"פ. ההוכחה נשענת על הגדרה באמצעות **מקסימיזציה חסומה**, שבה הפרדיקט הפנימי משתמש בפרדיקט החלוקה ($d|x$ ו-$d|y$): $$\text{gcd}(x,y) = \max_{d \leq x} [d|x \land d|y]$$ (הערך המקסימלי $d$ שעדיין מחלק גם את $x$ וגם את $y$).

### 3. שאלות מורכבות המשלבות מספר כמתים חסומים

ישנן שאלות מבחן שבהן נתונה פונקציה מורכבת המשלבת כמתים חסומים ומינימיזציה:

- **דוגמה לשאלת מינימיזציה ומקסימיזציה מורכבת:** שאלה 1 בבחינה לדוגמה מציגה פונקציות המוגדרות באמצעות אופרטורי $\min_{t \leq x}$ ו-$\max_{t \leq x}$, כאשר הפרדיקט הפנימי מכיל בעצמו כמתים חסומים וחלוקה, לדוגמה (שאלה 1(1) במועד ג'): $$f(x) = \min_{t \leq x} \left[ \left( \forall z \leq t (\neg(z|t) \lor z \cdot t > x) \right) \land t > 0 \right]$$ הפרדיקט הזה משלב: 1. **כמת לכל חסום** ($\forall z \leq t$). 2. **שלילת חלוקה** ($\neg(z|t)$). 3. **דיסיונקציה** ($\lor$). 4. **מינימיזציה חסומה** ($\min_{t \leq x}$).





להלן הפתרונות וההסברים לשאלות שביקשת, המתבססים על המקורות ומתודולוגיות הפתרון המופיעות בהם (בפרט מבחנים משנים קודמות ודפי נוסחאות):

### 2. שאלות הדורשות אופרטורים חסומים מתקדמים

#### א. פונקציית החלוקה השלמה (Floor Division)

הפונקציה $f(x,y) = \lfloor x/y \rfloor$ מחזירה את החלק השלם של המנה. **ההוכחה שהיא ר"פ:** אנו מחפשים את המספר $t$ הגדול ביותר המקיים $t \cdot y \le x$. במקום לחפש את המקסימום ישירות, קל יותר לחפש את הערך הראשון **שחורג** מהתנאי, כלומר את ה-$t$ הקטן ביותר שעבורו $(t+1) \cdot y > x$, ואז ה-$t$ האמיתי הוא הערך שנמצא (בגלל שהמינימיזציה מחזירה את הערך המקיים את התנאי). למעשה, בנוסחה הקלאסית משתמשים ישירות במינימיזציה כדי למצוא את המנה עצמה:

$$ f(x,y) = \min_{t \le x} [ (t+1) \cdot y > x ] $$

**הסבר:**

- הביטוי בודק עבור $t=0, 1, 2, \dots$ האם המכפלה של $(t+1)$ ב-$y$ גדולה מ-$x$.
- ברגע שהתנאי מתקיים, הפונקציה עוצרת ומחזירה את $t$.
- לדוגמה, עבור $12/5$:
    - $t=0$: $1 \cdot 5 > 12$? (לא)
    - $t=1$: $2 \cdot 5 > 12$? (לא)
    - $t=2$: $3 \cdot 5 > 12$? (כן, $15 > 12$).
    - התוצאה המוחזרת היא $2$, וזהו אכן הערך של $\lfloor 12/5 \rfloor$.
- מכיוון שפעולות כפל, חיבור, ואי-שוויון הן ר"פ, והשימוש הוא במינימיזציה חסומה – הפונקציה כולה היא ר"פ,. _(הערה: במקורות מצוין כי עבור $y=0$ הפונקציה מוגדרת כ-0, וזה מסתדר עם המינימיזציה כי התנאי לעולם לא יתקיים והיא תחזיר את ברירת המחדל 0 או תטופל בנפרד)_.

#### ב. המחלק המשותף הגדול ביותר (GCD)

הפונקציה $\text{gcd}(x,y)$ מחזירה את המספר הגדול ביותר שמחלק גם את $x$ וגם את $y$. **ההוכחה שהיא ר"פ:** נשתמש באופרטור **מקסימיזציה חסומה** (שהוא ר"פ כי הוא ניתן להגדרה ע"י מינימיזציה חסומה וחיסור).

$$ \text{gcd}(x,y) = \max_{t \le x} [ (t|x) \land (t|y) ] $$

**הסבר:**

- הפרדיקט $a|b$ (a מחלק את b) הוא ר"פ.
- אנו מחפשים את ה-$t$ המקסימלי בטווח $0 \dots x$ שמחלק את $x$ **וגם** מחלק את $y$.
- מכיוון ש-1 תמיד מחלק את שניהם, המקסימום תמיד מוגדר וחיובי (אלא אם שניהם 0, אז התוצאה 0 לפי הגדרת המקסימיזציה כברירת מחדל).
- לדוגמה, עבור $\text{gcd}(6, 9)$: המחלקים המשותפים בטווח הם 1, 3. המקסימלי הוא 3.
- לכן הפונקציה היא ר"פ,.

---

### 3. שאלות מורכבות המשלבות כמתים (דוגמה ממבחן)

השאלה שהבאת מופיעה במדויק במבחן (תשע"ו סמסטר ב', מועד א'),. נתונות הפונקציות: $$ f(x) = \min_{t \le x} ((t>0) \land \forall z_{\le x} ((z+t) \ge x \lor \neg((z+t)|x))) $$ $$ g(x) = \max_{t \le x} ((t>0) \land \forall z_{\le x} ((z+t) \ge x \lor \neg((z+t)|x))) $$

**ניתוח הפרדיקט:** התנאי בתוך הכמת $\forall z$ הוא: $((z+t) \ge x \lor \neg((z+t)|x))$. לוגית, זה שקול ל: **"אם $z+t < x$, אז $z+t$ לא מחלק את $x$".** כאשר $z$ רץ מ-0 ועד $x$, הביטוי $z+t$ מכסה את כל המספרים החל מ-$t$ ומעלה. המשמעות הכוללת: **אין אף מספר בטווח $[t, x-1]$ שמחלק את $x$.** כלומר, $t$ צריך להיות מספר כזה, שכל המספרים ממנו ועד $x$ (לא כולל $x$) הם **לא** מחלקים של $x$.

**פתרון עבור $x=6$:** המחלקים של 6 הם: 1, 2, 3, 6. המחלקים הקטנים ממש מ-6 הם: 1, 2, 3.

1. **חישוב $f(6)$ (המינימום):** אנו מחפשים את ה-$t$ הקטן ביותר (שגדול מ-0) כך שבטווח $[t, 5]$ אין מחלקים של 6.
    
    - נבדוק $t=1$: הטווח $$ מכיל את 1, 2, 3 (מחלקים). התנאי לא מתקיים.
    - נבדוק $t=2$: הטווח $$ מכיל את 2, 3. לא מתקיים.
    - נבדוק $t=3$: הטווח $$ מכיל את 3. לא מתקיים.
    - נבדוק $t=4$: הטווח $$ מכיל את 4, 5. אף אחד מהם לא מחלק את 6. **התנאי מתקיים.**
    - **תשובה:** $f(6) = 4$,.
2. **חישוב $g(6)$ (המקסימום):** אנו מחפשים את ה-$t$ הגדול ביותר המקיים את התנאי.
    
    - נבדוק את הגבול העליון $t=x=6$.
    - הטווח $$ הוא טווח ריק (או בודקים רק עבור $z$ כך ש $z+6 < 6$, שזה בלתי אפשרי).
    - פורמלית: עבור $t=6$, לכל $z \ge 0$ מתקיים $z+6 \ge 6$, ולכן החלק הראשון של ה-"או" ($(z+t) \ge x$) תמיד אמת.
    - לכן התנאי מתקיים עבור $t=6$.
    - **תשובה:** $g(6) = 6$,.

**סיכום האלגוריתם לפתרון שאלות מסוג זה:**

1. פרקו את הפרדיקט המורכב למשמעות מילולית פשוטה (כאן: "אין מחלקים בטווח").
2. עבור **מינימום**: התחילו מ-$t=1$ ועלו למעלה עד שהתנאי מתקיים לראשונה.
3. עבור **מקסימום**: התחילו מ-$t=x$ ורדו למטה (או בדקו ישר את הגבול העליון) עד שתמצאו ערך מקיים.



- **שאלה לדוגמה 1:** הוכח שפונקציית $f(x)$ המחזירה את המספר הגדול ביותר $n \le x$ שהוא מכפלת ראשוניים זהים, היא ר"פ. (פתרון ע"י מקסימיזציה חסומה).