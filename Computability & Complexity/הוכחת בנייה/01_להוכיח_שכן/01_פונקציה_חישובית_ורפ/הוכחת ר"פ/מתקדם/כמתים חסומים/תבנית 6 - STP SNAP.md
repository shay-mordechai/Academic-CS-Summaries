### תבנית 6: הוכחת חישוביות (באמצעות SNAP ו-STP)

המבנה של תבנית 6:

כדי להוכיח שפונקציה $f(x)$ היא ר"פ: מייצגים אותה כהרכבה של STP וSNAP.

1. כותבים תוכנית (בשפה כלשהי או בשפת המכונה האוניברסלית) שמחשבת את $f$.
    
2. אם התוכנית קיימת, אז לפי המשפט, $f$ ניתנת לייצוג כ:
    
    $$f(x) = r(SNAP(x, y_0, \mu t [STP(x, y_0, t)]))$$
    
    (כאשר $y_0$ הוא הקוד של התוכנית).
הערה:
1. מכיוון ש-`SNAP`, `STP` ו-$r$ הן פונקציות/פרדיקטים ר"פ, והוספנו אופרטור מינימיזציה ($\mu$), הביטוי כולו מגדיר פונקציה **רקורסיבית חלקית** (חישובית).
    



### שאלה 1 (20 נק')

**א.** תהי $A$ קבוצת כל קידודי הרביעיות $z=\langle \langle p, q \rangle, \langle x, t \rangle \rangle$, עבורם שתי התכניות $p,q$ בריצתן על הקלט $x$ כבר עצרו ברגע $t$ ומשתנה הפלט $Y$ של $p$ זהה למשתנה הפלט של $q$.
**הבהרה:** מספר צעדי הריצה של $p$ לא חייב להיות זהה לשל $q$.
סווג את $A$ ברמה הנמוכה ביותר בהיררכיה ר"פ/חישובית/במ"ר ולא חישובית/לא במ"ר.
הוכח את תשובתך. לא תתקבל תשובה ללא הוכחה.



---

### פתרון סעיף א'

**סיווג:** הקבוצה $A$ היא **רקורסיבית פרימיטיבית (ר"פ)**.

**הוכחה:**
$$P_A(z) = STP(x, p, t) \land STP(x, q, t) \land eq\left( (SNAP(x, p, t))_1, (SNAP(x, q, t))_1 \right)$$
בשמחה. בוא נפרק את סעיף א' לגורמים ונבין אותו שלב אחרי שלב. השאלה הזו נראית מפחידה בגלל הסימונים, אבל ההיגיון מאחוריה מאוד "טכני" ופשוט ברגע שמבינים את הכלים שיש לנו.

המטרה שלנו היא לקבוע את דרגת הקושי של הקבוצה $A$: האם היא **ר"פ** (הכי קלה), **חישובית** (בינונית), או **במ"ר/לא במ"ר** (קשה).

### שלב 1: הבנת הקלט ($z$)

הקבוצה $A$ מכילה מספרים שנקראים $z$. כל $z$ כזה הוא בעצם "אריזה" (קידוד) של ארבעה מספרים אחרים:

1. $p$: מספר של תכנית ראשונה.
2. $q$: מספר של תכנית שנייה.
3. $x$: הקלט שעליו מריצים את התכניות.
4. $t$: **מספר צעדים** (זמן ריצה).

העובדה ש-$t$ (הזמן) נתון לנו כחלק מהקלט היא **המשמעותית ביותר כאן**. זה אומר שאנחנו לא צריכים לחכות לנצח כדי לראות אם משהו קורה – יש לנו "שעון עצר" ברור.

### שלב 2: מה התנאי לכניסה לקבוצה?

כדי ש-$z$ יהיה בתוך הקבוצה $A$, צריכים להתקיים שלושה תנאים בו-זמנית:

1. התכנית $p$ עוצרת על $x$ תוך $t$ צעדים.
2. התכנית $q$ עוצרת על $x$ תוך $t$ צעדים.
3. בסוף הריצה (ברגע $t$), הפלט ($Y$) של שתי התכניות **זהה**.

### שלב 3: הכלים שיש לנו (הפונקציות המוכרות)

כדי לבדוק את התנאים האלה, אנחנו משתמשים ב"אבני בניין" שלמדנו, שהן פונקציות שידוע שהן **ר"פ** (רקורסיביות פרימיטיביות - כלומר, תמיד עוצרות וקלות לחישוב):

1. **הפרדיקט $STP(x, p, t)$:** זו פונקציה שמחזירה "אמת" (1) אם תכנית $p$ עוצרת על קלט $x$ תוך $t$ צעדים, ו"שקר" (0) אחרת.
    - למה זה טוב לנו? כי זה בודק בדיוק את תנאים 1 ו-2.
2. **הפונקציה $SNAP(x, p, t)$:** זו פונקציה שמחזירה "תמונת מצב" של הזיכרון של התכנית $p$ (כל המשתנים שלה) אחרי $t$ צעדים.
    - למה זה טוב לנו? כי מתוך תמונת המצב הזו אנחנו יכולים לשלוף את הערך של המשתנה $Y$ (הפלט) ולהשוות אותו.

### שלב 4: חיבור הכל ביחד (ההוכחה)

עכשיו נבנה "נוסחה" (פרדיקט) שבודקת אם $z$ שייך ל-$A$. אם נצליח לכתוב נוסחה כזו שמשתמשת רק ברכיבים שהם ר"פ, אז הקבוצה כולה היא ר"פ.

הנוסחה תיראה כך (במילים פשוטות): **האם** ($p$ עצר ב-$t$ צעדים) **וגם** ($q$ עצר ב-$t$ צעדים) **וגם** (הערך של $Y$ בתוך ה-$SNAP$ של $p$ **שווה** לערך של $Y$ בתוך ה-$SNAP$ של $q$)?

ובשפה מתמטית (כמו שמופיע בפתרון): $$ P_A(z) = STP(x, p, t) \land STP(x, q, t) \land (\text{Val}_Y(SNAP(x, p, t)) == \text{Val}_Y(SNAP(x, q, t))) $$

### המסקנה (למה זה ר"פ?)

בגלל ש:

1. הבדיקה "האם עצר" ($STP$) היא **ר"פ**.
2. בדיקת מצב הזיכרון ($SNAP$) היא **ר"פ**.
3. השוואה בין שני מספרים ($=$) היא **ר"פ**.
4. פעולת "וגם" ($\land$) שומרת על תכונת ה-ר"פ.

אז כל הביטוי הגדול הזה הוא **ר"פ**.

**לסיכום:** בגלל שנתון לנו מספר הצעדים $t$, אנחנו לא צריכים "לנחש" או לחכות עד אינסוף. אנחנו פשוט מריצים את התכניות בדיוק $t$ צעדים, בודקים מה קרה, ומשווים. זה תהליך סופי, ידוע וברור, ולכן הקבוצה נמצאת בדרגה הכי "קלה" - **רקורסיבית פרימיטיבית (ר"פ)**.
![[Pasted image 20251202152430.png]]

**במסגרת הקורס לא לומדים קבוצות שהן חישוביות ולא ר"פ, לכן התבנית הזו היא להוכחת ר"פ
לא לנסות להוכיח חישובי ולא ר"פ.**
:



![[Pasted image 20251202172449.png]]
![[Pasted image 20251202173445.png]]


![[Pasted image 20251202173721.png]]
א. לא במ"ר, רדוקציה.
אם היה רק את התנאי הראשון, זה היה במ"ר, אך בגלל התנאי השני, אני צריך לעבור על כל הקלטים בעולם כדי לדעת שזה עוצר על 3 קלטים.
שיטת הליכסון לא עובדת פה.
מתי כן? כשמדובר בקבוצת מספרים שמוכלת בTOT. לכן כאן נעשה רדוקציה מCO K.
![[Pasted image 20251202174942.png]]
![[Pasted image 20251202175754.png]]
במקום 3 השורות האחרונות, יש ניסוח יותר קצר של אחד המרצות...

הוכחת אי חישובי:
האם רייס יעבוד פה?
כן, B היא באמת קבוצת אינדקסים.
![[Pasted image 20251202180608.png]]
האם את סעיף א' אפשר להוכיח שA לא חישובית בעזרת רייס?
כן, כי היא מתארת פונקציה, לכן היא קבוצת אינדקסים.


![[Pasted image 20251202181430.png]]
מינימיזציה חסומה.
