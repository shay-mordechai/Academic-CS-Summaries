כמתים חסומים (Bounded Quantifiers) הם **כלי יסודי וקריטי** במחלקת הפונקציות ה**רקורסיביות הפרימיטיביות (ר"פ)**. הם נכללים תחת תבנית ה**אופרטורים החסומים**, ומהווים את הדרך להוכיח כי פעולות לוגיות או איטרטיביות המבוצעות על טווח סופי הן עדיין ר"פ.

**המשפט המרכזי:** אם הפרדיקט $P(t, x_1, \dots, x_n)$ הוא **ר"פ** (כלומר, פונקציה המקבלת ערכים ומחזירה 0 או 1), אז גם הפרדיקטים המוגדרים על ידי כמתים חסומים הם **ר"פ**.

חיוני להבדיל בין כמתים אלה ל**כמתים לא חסומים**, אשר הפעלתם על פרדיקט ר"פ עשויה להוביל לפונקציה **חישובית חלקית** (שאינה בהכרח ר"פ או שלמה).

להלן פירוט של שתי התבניות:

### 1. כמת "קיים" חסום ($\exists t \leq y$)

פרדיקט זה קובע האם **קיים** ערך $t$ בטווח שבין 0 ל-$y$ (כולל) המקיים את התנאי $P(t, \bar{x})$.

$$(\exists t \leq y) P(t, \bar{x})$$

**הוכחת הר"פ-יות (באמצעות סכימה חסומה):** כדי להוכיח כי אופרטור זה שומר על תכונת הר"פ, משתמשים ב**סכימה חסומה** ($\sum$) יחד עם **פונקציית הסימן** ($\text{sign}$ או $\alpha$). הרעיון הוא שפרדיקט זה יקבל ערך 1 אם ורק אם סכום כל הערכים של הפרדיקט $P$ בטווח החסום גדול מ-0 (כלומר, אם נמצא לפחות $t$ אחד שעבורו $P(t, \bar{x})=1$):
$$(\exists t \leq y) P(t, \bar{x}) \iff \alpha\left(\sum_{t=0}^{y} P(t, \bar{x})\right)$$
כאשר $\alpha(0)=0$ ו-$\alpha(x)=1$ עבור $x>0$ .

מאחר ש**סכימה חסומה** הוכחה כר"פ, ופונקציית הסימן היא ר"פ, הרי ש**כמת "קיים" חסום** הוא **ר"פ** כהרכבה של פונקציות ר"פ.

### 2. כמת "לכל" חסום ($\forall t \leq y$)

פרדיקט זה קובע האם **לכל** ערך $t$ בטווח שבין 0 ל-$y$ (כולל) מתקיים התנאי $P(t, \bar{x})$.

$$(\forall t \leq y) P(t, \bar{x})$$

**הוכחת הר"פ-יות (באמצעות מכפלה חסומה):** כדי להוכיח כי אופרטור זה שומר על תכונת הר"פ, משתמשים ב**מכפלה חסומה** ($\prod$). מאחר שהפרדיקט מקבל ערכים בוליאניים (${0, 1}$), הפרדיקט הזה יקבל ערך 1 אם ורק אם מכפלת כל הערכים של $P$ בטווח החסום שווה ל-1:

$$(\forall t \leq y) P(t, \bar{x}) \iff \left[\prod_{t=0}^{y} P(t, \bar{x}) = 1\right]$$

מאחר ש**מכפלה חסומה** הוכחה כר"פ, הרי ש**כמת "לכל" חסום** הוא **ר"פ** כהרכבה של פונקציות ר"פ.

### שימושים מרכזיים בתבניות אלה:

כמתים חסומים חיוניים להגדרת **פרדיקטים ר"פ יסודיים**, כגון:

- **חלוקה ללא שארית** ($y|x$): "האם $y$ מחלק את $x$ ללא שארית" מוגדר באמצעות **כמת קיים חסום**: $$y|x \Leftrightarrow (\exists t \leq x) (y \cdot t = x)$$
- **ראשוניות** ($\text{Prime}(x)$): מוגדר באמצעות שילוב של **כמת לכל חסום**: $$\text{Prime}(x) \Leftrightarrow (x>1) \land (\forall t < x) (t=1 \lor t=x \lor \neg(t|x))$$

---

דוגמאות ממבחנים:
כמתים חסומים ($\exists t \leq y, \forall t \leq y$) הם **כלי הוכחה יסודי** לחישוביות של פונקציות ר"פ (רקורסיביות פרימיטיביות). במבחנים, שאלות לגביהם מופיעות בשלושה אופנים עיקריים: **הוכחה פורמלית** של הכלל הכללי, **הגדרת פונקציות ר"פ יסודיות**, ו**שאלות מורכבות** המשלבות מספר אופרטורים חסומים.

הנה דוגמאות מייצגות מהמבחנים והמקורות:

### 1. שאלות על הגדרת פרדיקטים ר"פ יסודיים

כמתים חסומים חיוניים להגדרת הפרדיקטים הבסיסיים ביותר, הנחשבים לרוב "ידועים כר"פ":

- **פרדיקט החלוקה ללא שארית ($y|x$):** הפרדיקט $y|x$ ("האם $y$ מחלק את $x$") מוכח כר"פ באמצעות **כמת קיים חסום** ($\exists t \leq x$): $$y|x \Leftrightarrow (\exists t \leq x) (y \cdot t = x)$$ (שימו לב שהחסם $t$ הוא $x$ ולא $y$, כי $t$ הוא המנה, ולכל היותר $t=x$ כאשר $y=1$).
- **פרדיקט הראשוניות ($\text{Prime}(x)$):** פרדיקט $\text{Prime}(x)$ ("האם $x$ ראשוני") מוכח כר"פ באמצעות **כמת לכל חסום** ($\forall t < x$) ושלילת החלוקה: $$\text{Prime}(x) \Leftrightarrow (x>1) \land (\forall t < x) (t=1 \lor t=x \lor \neg(t|x))$$ מכיוון שגם $x>1$ וגם פרדיקט החלוקה ($t|x$) הם ר"פ, וכל הפעולות הלוגיות ($\land, \lor, \neg$) שומרות על ר"פ, כל ההרכבה הזו היא ר"פ.



---

כל הדוגמאות הללו, המשלבות **כמתים חסומים** עם פעולות לוגיות או אופרטורים חסומים אחרים, ממחישות את חשיבות התבנית הזו כאבן יסוד בהוכחת ר"פ-יות.

כעת, אם תרצה, נוכל לתרגל את היישום של **מינימיזציה חסומה** על הפרדיקט $\text{Prime}(x)$ כדי להגדיר את **פונקציית המספר הראשוני ה-$n$-י ($p_n$)**, שהיא דוגמה קלאסית נוספת לפונקציה ר"פ הנשאלת במבחנים?.


הטכניקה היא לזהות אם ה"תנאי" שהקבוצה בודקת הוא "תמיד נכון", "אף פעם לא נכון", או תלוי בערך סופי של אפשרויות.
שאלה:
תהי B, ($B = \{x : \exists t (x+t=5)\}$), 
א. הוכיחו שB ר"פ.
ב. מצא פונקציה f שהטווח שלה שווה ל-B.

פתרון ישיר:
1. **הבנה מתמטית פשוטה:** המשוואה $x+t=5$ (כאשר $x,t \in \mathbb{N}$) אומרת ש-$x$ חייב להיות קטן או שווה ל-5. כלומר $B = \{0,1,2,3,4,5\}$.
    
2. הסקה מיידית: קבוצה סופית היא תמיד ר"פ (רקורסיבית פרימיטיבית), כי אפשר לכתוב לה פרדיקט מאפיין כזה:
    
    $$P_B(x) = (x=0 \lor x=1 \lor \dots \lor x=5)$$
    
    וזה ביטוי לוגי סופי של שוויונות, שכולם ר"פ.
    

### פתרון ע"י כמת "קיים" חסום:

$$x \in B \iff \exists t_{\le 5} (x+t=5)$$

החסם $5$ נובע מכך שאם $t>5$, אז $x+t > 5$ (עבור $x \ge 0$), ולכן אין צורך לחפש $t$ מעבר ל-5.

ברגע שמצאת חסם ל-$t$ (שהוא קבוע, או פונקציה ר"פ של $x$), והביטוי הפנימי הוא ר"פ (חיבור ושוויון), אז הביטוי כולו ר"פ לפי סגירות ר"פ לכמתים חסומים.

לסיכום:

הדרך של "זיהוי הקבוצה המפורשת" (כמו בתמונה) היא לרוב מהירה יותר כשהקבוצה סופית או פשוטה מאוד. הדרך של "כמת חסום" היא השיטה הכללית והפורמלית שעובדת גם במקרים מורכבים יותר. שתיהן קבילות ונכונות.

תשובה לסעיף ב:
בסעיף א' כבר זיהינו שהקבוצה $B$ היא קבוצה סופית:

$$B = \{0, 1, 2, 3, 4, 5\}$$

כדי לענות על סעיף ב', עלינו למצוא פונקציה $f$ שהטווח (Range) שלה הוא בדיוק המספרים האלו. ישנן אינסוף פונקציות כאלו, אך הנה שתי דוגמאות פשוטות שמקובלות מאוד בקורס:

### אפשרות 1: פונקציית המינימום (האלגנטית ביותר)

נגדיר את הפונקציה:

$$f(x) = \min(x, 5)$$

**הסבר:**

- עבור $x=0$, הפלט הוא $0$.
    
- עבור $x=1$, הפלט הוא $1$.
    
- ...
    
- עבור $x=5$, הפלט הוא $5$.
    
- עבור כל $x > 5$ (למשל 6, 7, 100), הפלט יישאר $5$.
    

לכן, הפונקציה מחזירה את כל המספרים מ-0 עד 5 ולא שום דבר אחר. הטווח הוא בדיוק $B$.

(הערה: הפונקציה הזו היא ר"פ כי הפונקציה $\min$ היא ר"פ).

---

### אפשרות 2: הגדרה לפי מקרים

אפשר להגדיר פונקציה שמחזירה את הערך עצמו אם הוא בקבוצה, וערך שרירותי מתוך הקבוצה (למשל 0) אם הוא חורג ממנה:

$$f(x) = \begin{cases} x & x \le 5 \\ 0 & x > 5 \end{cases}$$

**הסבר:**

- הקלטים $0, 1, 2, 3, 4, 5$ יחזירו את עצמם (כיסינו את כל הקבוצה $B$).
    
- כל קלט גדול מ-5 יחזיר $0$ (שגם הוא איבר ב-$B$, ולכן לא הוספנו איברים מיותרים לטווח).
    

שתי התשובות נכונות ומלאות.