

התבנית הבאה, הנדרשת לעתים קרובות כדי להוכיח ר"פ של פונקציות הנראות "מפוצלות" או כאלה הכוללות **פעולות השוואה**, היא:

## תבנית II: הוכחת ר"פ באמצעות הגדרה לפי מקרים (Definition by Cases)

### המטרה

להוכיח כי פונקציה $f$ המוגדרת באמצעות תנאים (פרדיקטים) היא **רקורסיבית פרימיטיבית (ר"פ)**, תוך שימוש בכך ש**פרדיקטים ר"פ** סגורים תחת פעולות לוגיות והרכבה.

### שלב 1: הכלל הבסיסי (משפט ההגדרה על ידי מקרים)

אם הפונקציה $f(\vec{x})$ מוגדרת כך: $$\begin{cases} f(\vec{x}) = g(\vec{x}) & \text{םא } P(\vec{x}) \\ f(\vec{x}) = h(\vec{x}) & \text{תרחא (otherwise)} \end{cases}$$ כאשר $g$ ו-$h$ הן פונקציות **ר"פ**, ו-$P$ הוא **פרדיקט ר"פ** (המחזיר 1 אם 'אמת', ו-0 אם 'שקר'), אזי $f$ היא **ר"פ**.

### שלב 2: תבנית הפתרון הפורמלית (הצגה כהרכבה אלגברית יחידה)

כדי להוכיח ש-$f$ היא ר"פ, יש להציגה כהרכבה ר"פ יחידה של $g, h$ ושל הפונקציה המאפיינת של $P$ (כלומר, $P$ עצמו) ופונקציית השלילה $\alpha$.

**הנוסחה להרכבה:** $$f(\vec{x}) = g(\vec{x}) \cdot P(\vec{x}) + h(\vec{x}) \cdot \alpha(P(\vec{x}))$$ כאשר $\alpha(y) = 1 \dot{-} y$.

מאחר שפעולות כפל, חיבור וחיסור שלם ($\dot{-}$) הן פונקציות ר"פ, ואם $g, h$ ו-$P$ הן ר"פ, הרי ש-$f$ היא ר"פ כהרכבה סופית של פונקציות ר"פ.

### שלב 3: פונקציות עזר קריטיות (פרדיקטים ר"פ ידועים)

בפועל, כמעט כל הוכחה בתבנית זו תדרוש תחילה להראות שפרדיקט ההשוואה הבסיסי הוא ר"פ.

- **פונקציית השוויון:** $d(x_1, x_2)$ (מחזירה 1 אם $x_1 = x_2$, ו-0 אחרת).
    - ניתן להציגה באמצעות **ההרכבה** $d(x_1, x_2) = \alpha(|x_1 \dot{-} x_2|)$.
    - הפונקציה $|x_1 \dot{-} x_2|$ (ערך מוחלט של חיסור) הוכחה כר"פ באמצעות הרכבה של פונקציית החיסור השלם $x_1 \dot{-} x_2$ ופונקציית ההיפוך $x_2 \dot{-} x_1$.
- **פונקציית אי-שוויון** (למשל, $x_1 < x_2$).

