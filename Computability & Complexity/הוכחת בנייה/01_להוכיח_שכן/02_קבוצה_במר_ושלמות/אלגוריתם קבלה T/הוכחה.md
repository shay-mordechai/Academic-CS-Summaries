כדי להוכיח שקבוצה היא במ"ר, תראה שאתה יכול לכתוב אלגוריתם שמקבל x:

- אם x בקבוצה → האלגוריתם **חייב לעצור** ולומר "כן".
    
- אם x לא בקבוצה → האלגוריתם יכול לעצור ולומר "לא", **או** להיתקע בלולאה אינסופית.


### 1. הגדרת קבוצה בת מנייה רקורסיבית ($\mathbf{במ"ר}$)

קבוצה של מספרים טבעיים, נקראת **בת מנייה רקורסיבית** ($\mathbf{במ"ר}$) אם היא **תחום ההגדרה** (Domain) של פונקציה חישובית חלקית כלשהי.

הגדרה זו מתבטאת באופן פורמלי: קבוצה $B$ היא $\mathbf{במ"ר}$ אם קיימת פונקציה חישובית חלקית $g$ כך שמתקיים: $$ B = {x \in N: g(x) \downarrow} $$ כאשר $g(x) \downarrow$ מסמן שהפונקציה $g$ **עוצרת** על הקלט $x$.

### 2. הקשר לאלגוריתם $T$ (כריעות חלקית)

האלגוריתם $T$ שתיארת הוא למעשה המימוש של הפונקציה החישובית החלקית $g$:

- במונחים של תכנית $\mathbf{P}$ (שמספרה $y$) שמחשבת את הפונקציה $g$, הקבוצה $B$ היא קבוצת כל הקלטים שעליהם הרצת התכנית $\mathbf{P}$ **מגיעה לסיומה בשלב כלשהו**.
- אלגוריתם זה (המכונה **אלגוריתם כריעות חלקית**) מתאפיין בכך ש:
    - **אם המספר $x$ שייך לקבוצה $B$** ($x \in B$), אז הרצת התכנית עוצרת (מגיעה לסיומה בשלב כלשהו) והתשובה החיובית **מתקבלת בזמן סופי**.
    - **אם המספר $x$ אינו שייך לקבוצה $B$** ($x \notin B$), אז האלגוריתם עשוי **לא לעצור** (כלומר, הפונקציה אינה מחזירה שום תשובה, $g(x) \uparrow$).

לכן, מציאת אלגוריתם $T$ אשר עוצר אם ורק אם $x \in A$ היא הדרך הנדרשת להוכחה ש-$A$ היא $\mathbf{במ"ר}$.

### 3. דרכים שקולות נוספות להוכחת $\mathbf{במ"ריות}$

קיימות דרכים שקולות נוספות להגדיר ולהוכיח שקבוצה $S$ היא $\mathbf{במ"ר}$, אשר נגזרות מההגדרה הראשונית:

1. **טווח של פונקציה חישובית חלקית/ר"פ:** אם $S$ היא קבוצה לא ריקה, היא מהווה טווח של פונקציה רקורסיבית פרימיטיבית ($\mathbf{ר"פ}$).
2. **ייצוג באמצעות כמת קיום לא חסום:** קבוצה $S$ היא $\mathbf{במ"ר}$ אם ורק אם קיים פרדיקט $\mathbf{ר"פ}$ דו-מקומי $R(x, t)$ כך שמתקיים: $$ S = {x \in N: (\exists t) R(x, t)} $$
    - בנוסח זה, $t$ מייצג בדרך כלל את **מספר הצעדים** עד העצירה. פרדיקט זה נבנה לעיתים קרובות באמצעות $\mathbf{STP}$ (מונה הצעדים) כדי לוודא עצירה בתוך מספר סופי של צעדים $t$.

לסיכום, **מציאת אלגוריתם $T$** ש**עוצר** אם ורק אם הקלט שייך לקבוצה היא בדיוק האפיון של $A$ כ**תחום הגדרה** של פונקציה חישובית חלקית, וזו ההגדרה הבסיסית ביותר ל$\mathbf{במ"ר}$.

זו שאלה המקשרת בין המושגים האינטואיטיביים לבין הפורמליזם המתמטי של תורת החישוביות.

**התשובה היא בהחלט כן.** כדי להוכיח שקיימת תכנית בשפת $S$ המחשבת פונקציה מסוימת, או שקיים אלגוריתם $T$ המכריע חלקית קבוצה $A$ (כלומר, $A$ היא **בת מנייה רקורסיבית ($\mathbf{במ"ר}$)**), אנו משתמשים בייצוג הפורמלי באמצעות פרדיקטים רקורסיביים פרימיטיביים ($\mathbf{ר"פ}$), כגון $\mathbf{STP}$ ו-$\mathbf{SNAP}$.

השימוש ב-$\mathbf{STP}$ וב-$\mathbf{SNAP}$ הוא הדרך ה**סטנדרטית** והמחייבת להוכיח חישוביות או $\mathbf{במ"ריות}$ במונחים פורמליים.

### 1. ייצוג קיום האלגוריתם (במ"ריות) באמצעות $\mathbf{STP}$

קבוצה $B$ היא $\mathbf{במ"ר}$ אם ורק אם היא תחום ההגדרה של פונקציה חישובית חלקית $g$ ($\mathbf{B={x \in N: g(x) \downarrow}}$). אלגוריתם $T$ ש"מקבל" קבוצה $A$ (כלומר, $T(x)$ עוצר אם ורק אם $x \in A$) הוא הוכחה אינטואיטיבית ל-$\mathbf{במ"ריות}$ שלה.

כדי להפוך את ההוכחה הזו לפורמלית, משתמשים באפיון השקול:

**קבוצה $S$ היא $\mathbf{במ"ר}$ אם ורק אם קיים פרדיקט $\mathbf{ר"פ}$ דו-מקומי $R(x, t)$ כך שמתקיים: $\mathbf{S={x \in N: (\exists t)R(x, t)}}$**.

הפרדיקט $R(x, t)$ מזהה אם $x$ שייך לקבוצה $S$ לאחר **מספר סופי של צעדים** $t$.

- הפרדיקט הכללי והשימושי ביותר שמשמש כ-$R(x, t)$ הוא $\mathbf{STP}$ (Step-Counter Predicate).
- $\mathbf{STP}^{(n)}(x_1, \dots, x_n, y, t)$ מחזיר 'אמת' (1) אם התכנית שמספרה $y$ עוצרת על הקלט $(x_1, \dots, x_n)$ אחרי לכל היותר $t$ צעדים.
- מאחר ש-$\mathbf{STP}$ הוא **פרדיקט רקורסיבי פרימיטיבי ($\mathbf{ר"פ}$)**, שימוש בו תחת כמת קיום לא חסום ($\exists t$) מוכיח שקבוצת $S$ היא $\mathbf{במ"ר}$.

### 2. ייצוג קיום הפונקציה באמצעות $\mathbf{SNAP}$ ו-$\mathbf{STP}$

כאשר מטרת ההוכחה היא להראות שפונקציה $f$ היא **חישובית חלקית** (כלומר, קיימת תכנית המחשבת אותה), אנו משתמשים ב**משפט הצורה הנורמאלית** (Normal Form Theorem).

משפט זה קובע כי כל פונקציה חישובית חלקית $f$ ניתנת לייצוג באמצעות **מינימיזציה** ($\min_{z}$) על פרדיקט $\mathbf{ר"פ}$ כלשהו $R$. הפרדיקט $R$ הזה נבנה תוך שימוש ישיר ב-$\mathbf{STP}$ ו-$\mathbf{SNAP}$:

1. **$\mathbf{STP}$ (לשליטה על זמן הריצה):** מוודא שהחישוב מסתיים בתוך מספר צעדים חסום.
2. **$\mathbf{SNAP}$ (לחילוץ הפלט):** הפונקציה $\mathbf{SNAP}^{(n)}(x_1, \dots, x_n, y, t)$ מחזירה את המצב הרגעי (Snapshot) של התכנית אחרי $t$ צעדים. המצב הרגעי הוא זוג סדור המקודד את מספר ההוראה הבאה ואת קידוד גדל של ערכי כל המשתנים.
3. **חילוץ הפלט:** לאחר ש-$\mathbf{STP}$ מוודא עצירה, משתמשים בפונקציות חילוץ על הפלט של $\mathbf{SNAP}$ כדי לקבוע מהו ערך משתנה הפלט $Y$.

לכן, כאשר נדרשת הוכחה פורמלית לקיום אלגוריתם (או קיום תכנית המחשבת פונקציה), הדבר מתבצע באמצעות **הרכבה של פונקציות $\mathbf{ר"פ}$ ושימוש בכמתים (בעיקר $\exists t$) על $\mathbf{STP}$ ו-$\mathbf{SNAP}$**.

---

**לסיכום במטאפורה:** הוכחה שקיימת תכנית ($P$) או אלגוריתם ($T$) היא כמו לטעון שקיים **בניין**. שימוש ב-$\mathbf{STP}$ ו-$\mathbf{SNAP}$ הוא כמו להציג **תוכניות בנייה (תוכניות אדריכליות)**: $\mathbf{STP}$ מוודא שהבנייה מסתיימת בזמן סופי (כלומר, הבניין יכול לעמוד), ו-$\mathbf{SNAP}$ מאפשר לנו לבדוק את התכולה הפנימית של הבניין (ערכי המשתנים או הפלט) בכל שלב של הבנייה. בלעדיהם, הטענה לקיום הבניין נשארת אינטואיטיבית ולא ממוסמכת פורמלית..