### 3. הקבוצה $\mathbf{Halt}$ ניתנת לקבלה ($\mathbf{במ"ר}$)

אף על פי ש-$\mathbf{HALT}$ אינו ניתן להכרעה, **קיימת תכנית שמקבלת** את קבוצת הזוגות שעבורם התכנית עוצרת.

- הקבוצה $\mathbf{Halt}$ מוגדרת כקבוצת הזוגות $\langle x, y \rangle$ שעבורם $\mathbf{HALT}(x, y) = 1$.
- הקבוצה $\mathbf{Halt}$ **היא בת מנייה רקורסיבית ($\mathbf{במ"ר}$)**, כיוון שהיא מהווה תחום הגדרה של פונקציה חישובית חלקית.
- תכנית שמקבלת את $\mathbf{Halt}$ עוצרת ומחזירה תשובה חיובית **אם** התכנית $y$ עוצרת על $x$ (כלומר, $x \in \mathbf{Halt}$). אם התכנית לא עוצרת, התכנית המקבלת פשוט תמשיך לרוץ לנצח, ולכן אינה מכריעה את המקרה השלילי.

לסיכום, שיטת הליכסון הוכיחה את **אי-החישוביות** (אי-הכרעות) של $\mathbf{HALT}$ בכך שהראתה שלא ניתן לחשב את **כל** הערכים של הפרדיקט השלם הזה. אם הוכחה הייתה מראה שאין תכנית שמקבלת את $\mathbf{Halt}$, היא הייתה מוכיחה ש-$\mathbf{Halt}$ אינה $\mathbf{במ"ר}$, וזה אינו נכון.


אז בעצם הראנו בליכסון להוכחת אי חישוביות של HALT, שהתכנית P היא לא מכריעה את HALT. בנוסף אפשר לראות שהתכנית הזו גם לא מקבלת את HALT, כי כאשר X שייך לHALT, התוכנית לא עוצרת בכלל. היינו יכולים לשנות קצת את התוכנית ולהפוך אותה לתכנית שמקבלת את HALT וכך להראות שHALT היא במ"ר?


שאלתך נוגעת באופן מדויק למהותה של הוכחת האלכסון ולמשמעות של חישוביות לעומת במ"ריות.

**אתה צודק לחלוטין** בשלושת חלקי השאלה, והמקורות תומכים בהבחנות המדויקות שאתה עושה:

### 1. הוכחת הליכסון והכרעת HALT

**נכון.** שיטת האלכסון הוכיחה ש**הפרדיקט $\mathbf{HALT}(x, y)$ אינו חישובי**.

כיוון שפרדיקט חישובי חייב להיות פונקציה שלמה (עוצרת תמיד ומחזירה 0 או 1), ההוכחה הראתה **שאין תכנית שמכריעה** את $\mathbf{HALT}$. האלגוריתם המכריע הזה הוא **העצם** (The object) $b$ ש"לא קיים" במספור.

### 2. התכנית $P$ אינה מקבלת את $\mathbf{K}$ ($\mathbf{HALT}(x, x)$)

**נכון.** התכנית הדיאגונלית $P$ שהוגדרה בהוכחה, `[A] IF HALT(X,X) GOTO A`, מתוכננת במיוחד כדי לעשות את הפעולה ההפוכה לתוצאת ההכרעה:

- **אם $x \in K$** (כלומר $\mathbf{HALT}(x, x) = 1$ והתכנית אמורה לעצור), התכנית $P$ **נכנסת ללולאה אינסופית** (GOTO A).
- תכנית שמקבלת קבוצה $A$ חייבת לעצור כאשר $x \in A$. מאחר ש-$P$ לא עוצרת כאשר $x \in K$, נובע ש**התכנית $P$ לא מקבלת את הקבוצה $\mathbf{K}$** (שמאופיינת על ידי $\mathbf{HALT}(x, x)$).

זוהי המטרה של האלכסון: **לבנות פונקציה (התכנית $P$) אשר מתנהגת אחרת מכל פונקציה אחרת ברשימה**. ההתנהגות השונה שנבחרה היא בדיוק המקרה שבו התכנית לא עוצרת כאשר היתה אמורה לעצור.

### 3. הקשר ל-$\mathbf{במ"ר}$ של Halt

**נכון, ההנחה ש-$\mathbf{Halt}$ היא $\mathbf{במ"ר}$ היא נכונה**, אך הוכחה זו אינה נעשית באמצעות שינוי התכנית $P$ המקורית, אלא באמצעות הגדרת $\mathbf{Halt}$ כתחום הגדרה של פונקציה חישובית חלקית.

קבוצת העצירה הכללית, $\mathbf{Halt} = {\langle x, y \rangle \in N \times N: \mathbf{HALT}(x, y)=1}$, **היא $\mathbf{במ"ר}$**.

**התכנית שמקבלת את $\mathbf{Halt}$ (הוכחת $\mathbf{במ"ריות}$):**

כדי להוכיח ש-$\mathbf{Halt}$ היא $\mathbf{במ"ר}$, יש להראות שקיים אלגוריתם (תכנית) $T$ המבצע **כריעות חלקית**, כלומר עוצר רק כאשר הקלט שייך לקבוצה.

התכנית הפשוטה ביותר שתעשה זאת היא זו המשתמשת בפונקציה האוניברסלית $\Phi$: $$ Z \leftarrow \Phi(X_1, X_2) $$ כאשר $X_1$ הוא הקלט ו-$X_2$ הוא מספר התכנית.

אם התכנית שמספרה $X_2$ עוצרת על קלט $X_1$ (כלומר $\langle X_1, X_2 \rangle \in \mathbf{Halt}$), החישוב של $\Phi(X_1, X_2)$ מסתיים, המשתנה $Z$ מקבל ערך, והתכנית $T$ עוצרת ומקבלת את הקלט. אם התכנית $X_2$ לא עוצרת, גם $\Phi(X_1, X_2)$ לא עוצרת, והתכנית $T$ לא עוצרת. זה מוכיח ש-$\mathbf{Halt}$ היא $\mathbf{במ"ר}$.

**מדוע לא משנים את $P$?**

התכנית הדיאגונלית $P$ שהשתמשת בה, `[A] IF HALT(X,X) GOTO A`, מבוססת על **הנחה סותרת** שקיים מאקרו חישובי **שלם** (HALT). אם היינו משנים אותה כדי שתעצור כאשר $x \in K$, היינו למעשה יוצרים תכנית המכילה את ההוראה `IF HALT(X,X)=1 GOTO E` (עצור). תכנית זו אינה ניתנת למימוש, כי ההנחה ש-HALT הוא חישובי היא הסתירה שהוכחת האלכסון מוכיחה שהיא שגויה. לכן, הוכחת ה-$\mathbf{במ"ריות}$ של $\mathbf{Halt}$ מתבצעת באופן נפרד, המסתמך על קיום הפונקציה האוניברסלית $\Phi$.

> **לסיכום:** הליכסון הוכיח ש**לא קיימת תכנית שמכריעה את $\mathbf{HALT}$** (כלומר, $HALT$ לא חישובי), אך לא סתר את העובדה **שקיימת תכנית שמקבלת את $\mathbf{Halt}$** (כלומר, $Halt$ היא $\mathbf{במ"ר}$), וזאת באמצעות סימולציה של הרצת התכנית (הפונקציה $\Phi$).