השאלה שצירפת שייכת לנושא **תכונות סגירות של קבוצות ר"פ (רקורסיביות פרימיטיביות)** ולקשר שבין **פונקציות** לבין **הקבוצות** שהן מגדירות (תמונה ותמונה הפוכה).

להלן פירוט הנושאים הספציפיים אליהם השאלה מתייחסת, בהתבסס על המקורות:

**1. סגירות תחת תמונה הפוכה (Inverse Image) - סעיף ב'**

- הסעיף עוסק בטענה שקבוצות ר"פ סגורות תחת פעולת ה"תמונה ההפוכה" ($f^{-1}(B)$) עם פונקציות ר"פ.
- **הנושא התיאורטי:** הגדרת קבוצה ר"פ מתבצעת באמצעות **פרדיקט אופייני** (Characteristic Predicate) שהוא פונקציה ר"פ.
- מכיוון שמשפחת הפונקציות הר"פ סגורה לפעולת ה**הרכבה** (Composition), הרכבה של הפרדיקט האופייני של הקבוצה $B$ על הפונקציה $f$ יוצרת פרדיקט חדש שהוא גם ר"פ. זהו בדיוק הפרדיקט המאפיין של הקבוצה $f^{-1}(B)$, ולכן הקבוצה היא ר"פ.

**2. אי-סגירות תחת תמונה (Image) / אפיון קבוצות במ"ר - סעיף א'**

- הסעיף עוסק בכך שקבוצות ר"פ **אינן** סגורות תחת פעולת ה"תמונה" ($f(B)$) עם פונקציות ר"פ.
- **הנושא התיאורטי:** זהו חלק מהנושא הרחב של **אפיון קבוצות במ"ר** (Recursively Enumerable Sets). אחד המשפטים המרכזיים בקורס קובע שקבוצה היא במ"ר אם ורק אם היא הטווח ($Range$) של פונקציה חישובית (או ר"פ).
- ההפרכה בשאלה משתמשת בקבוצה $K$ (בעיית העצירה), שהיא הדוגמה הקלאסית לקבוצה שהיא **במ"ר אך לא חישובית** (ולכן בוודאי לא ר"פ). העובדה שניתן ליצור את $K$ כתמונה של הקבוצה הטבעית $\mathbb{N}$ (שהיא ר"פ) על ידי פונקציה ר"פ, מוכיחה שפעולה זו מוציאה אותנו ממשפחת הקבוצות הר"פ ומעבירה אותנו למשפחת הקבוצות הבמ"ר.

**לסיכום, השאלה בודקת את ההבנה של:**

1. הקשר בין פונקציות ר"פ לקבוצות ר"פ (דרך הפרדיקט האופייני).
2. תכונות הסגירות של פונקציות ר"פ (הרכבה).
3. ההבדל המהותי בין קבוצות ר"פ לקבוצות במ"ר (דרך מושג הטווח/תמונה).





### ❓ שאלה 6

תהי $B$ קבוצה, ותהי $f: \mathbb{N} \to \mathbb{N}$ פונקציה.

נסמן:

$$f(B) = \{ f(n) \mid n \in B \} \quad \text{and} \quad f^{-1}(B) = \{ n \in \mathbb{N} \mid f(n) \in B \}$$

**הוכיחו או הפריכו:**

---

### א. אם $B$ היא קבוצה ר"פ ו-$f$ היא פונקציה ר"פ, אזי $f(B)$ היא קבוצה ר"פ

תשובה + הוכחה:

לא נכון.

דוגמה נגדית:

תהי $B = \mathbb{N}$, ותהי $f$ פונקציה ר"פ שהטווח שלה הוא $K$ (הקבוצה הלא-חישובית הידועה).

ידוע ש-$K$ היא קבוצה במ"ר (בת מנייה רקורסיבית), ולכן קיימת פונקציה ר"פ $f$ כך ש-$K = Range(f)$.

במקרה זה:

1. $B = \mathbb{N}$ היא קבוצה ר"פ (טריוויאלי).
    
2. $f$ היא פונקציה ר"פ (לפי הגדרה).
    
3. אבל $f(B) = f(\mathbb{N}) = \{ f(n) \mid n \in \mathbb{N} \} = Range(f) = K$.
    

הקבוצה $K$ איננה קבוצה ר"פ (היא אפילו לא חישובית), ולכן הטענה הופרכה.

---

### ב. אם $B$ ו-$f$ הם ר"פ, אבל $f(B)=K$ איננה קבוצה ר"פ, אזי $f^{-1}(B)$ היא קבוצה ר"פ

תשובה + הוכחה:

נכון.

הקבוצה מוגדרת כך:

$$f^{-1}(B) = \{ n \in \mathbb{N} \mid f(n) \in B \}$$

כדי להוכיח שהיא ר"פ, נבנה את הפרדיקט המאפיין שלה, $Q(x)$.

$$Q(x) = P_B(f(x))$$

**הסבר:**

1. $P_B$ הוא הפרדיקט המאפיין של הקבוצה $B$. נתון ש-$B$ היא ר"פ, ולכן גם $P_B$ הוא ר"פ.
    
2. $f$ היא פונקציה ר"פ (נתון).
    
3. הפרדיקט $Q(x)$ נוצר על ידי **הרכבה** של שתי פונקציות ר"פ ($P_B$ ו-$f$).
    
4. ידוע שמשפחת הפונקציות הר"פ סגורה להרכבה.
    

לכן, $Q(x)$ הוא פרדיקט ר"פ, ומכאן נובע ש-$f^{-1}(B)$ היא קבוצה ר"פ.


ריכזתי עבורך את ההוכחות המרכזיות המופיעות במקורות, בחלוקה ל**תכונות סגירות** ול**משפטים קלאסיים**. אלו הם המנגנונים התיאורטיים שחוזרים במבחנים ומהווים את הבסיס לפתרון שאלות "הוכח".

### חלק א': הוכחות סגירות (Closure Properties)

הוכחות אלו מתבססות לרוב על בניית מכונה חדשה או פונקציה חדשה המשתמשת במכונות/פונקציות של הקבוצות הנתונות.

#### 1. מחלקת NP סגורה לאיחוד

זוהי שאלת מבחן קלאסית.

- **הטענה:** אם $L_1 \in NP$ וגם $L_2 \in NP$, אזי $L_1 \cup L_2 \in NP$.
- **ההוכחה:**
    1. יהיו $M_1, M_2$ מכונות טיורינג לא-דטרמיניסטיות המקבלות את השפות $L_1, L_2$ בהתאמה.
    2. נבנה מכונה לא-דטרמיניסטית חדשה $M_3$.
    3. **המהלך של $M_3$:** המכונה "מנחשת" באופן לא דטרמיניסטי איזה מסלול לבדוק: האם להריץ את $M_1$ על הקלט או את $M_2$ על הקלט.
    4. **נכונות:** מילה $u$ תתקבל על ידי $M_3$ אם ורק אם קיים מסלול מקבל ב-$M_1$ **או** קיים מסלול מקבל ב-$M_2$. כלומר, $u \in L_1 \cup L_2$,.

#### 2. קבוצות במ"ר (בנות מנייה רקורסיבית) סגורות לאיחוד ולחיתוך

- **סגירות לחיתוך ($B \cap C$):**
    - תהיינה $g, h$ פונקציות המגדירות את $B, C$ (תחומי ההגדרה שלהן).
    - מגדירים תוכנית המריצה את $g(x)$ ואת $h(x)$ בזו אחר זו (או במקביל).
    - התוכנית תעצור אם ורק אם **גם** $g$ עצרה **וגם** $h$ עצרה. לכן תחום ההגדרה הוא החיתוך.
- **סגירות לאיחוד ($B \cup C$):**
    - כאן לא ניתן להריץ בטור (כי אם הראשונה תיתקע, לא נדע שהשנייה עוצרת).
    - **הפתרון:** הרצה במקביל (צעד אחד של $P_B$, צעד אחד של $P_C$). משתמשים בפרדיקט $STP$.
    - התוכנית החדשה בודקת: האם $P_B$ עוצרת ב-$T$ צעדים? אם כן, עצור. האם $P_C$ עוצרת ב-$T$ צעדים? אם כן, עצור. אם לא, הגדל את $T$.
    - התוכנית תעצור אם **לפחות אחת** מהתוכניות המקוריות עוצרת.

#### 3. קבוצות חישוביות (רקורסיביות) סגורות למשלים, איחוד וחיתוך

ההוכחה מתבססת על **הפרדיקט האופייני**. אם קבוצה היא חישובית, הפרדיקט שלה (המחזיר 1 או 0) הוא חישובי.

- **משלים:** הפונקציה $1 - P_A(x)$ מחשבת את המשלים.
- **חיתוך:** $P_A(x) \cdot P_B(x)$ (כפל לוגי, AND).
- **איחוד:** שימוש בדה-מורגן או בנוסחה $1 - (1-P_A(x))(1-P_B(x))$ (או פשוט OR לוגי),,.

---

![[Pasted image 20251126112606.png]]
![[Pasted image 20251126112641.png]]