
תבנית זו משלבת את Factory Class ואת Factory Method.

- **מטרה עיקרית:** לספק ממשק ליצירת **"משפחות" של אובייקטים קשורים (Products)** בלי לציין במפורש את הטיפוס הקונקרטי שלהם. היא מבטיחה תאימות בין רכיבים (כדי למנוע ערבוב רכיבים ממשפחות שונות, כמו Acme ו-Hackme).
- **מבנה:** מגדירים מחלקה מופשטת של Factory (הממשק, לדוגמה `StationToolkit` במערכת מזג האוויר או `AbstractFactory` במדיח הכלים), וכל בית חרושת יורש (Concrete Factory) ייצר משפחה שונה של אובייקטים המממשת את הטיפוס המופשט.

**יתרונות עיקריים:** Abstract Factory נותנת מענה לבעיית **OCP** (על ידי יצירת Factory קונקרטי חדש ניתן להוסיף משפחה חדשה מבלי לשנות קוד קיים) ולבעיית **SRP** (אחריות היצירה מופרדת מהלוגיקה העסקית של הלקוח, כגון `Dishwasher`).

### קוד דוגמה (Dishwasher - לקוח)

הלקוח (`Dishwasher`) מקבל את המפעל המופשט בבנאי שלו ומשתמש בו ליצירת הרכיבים, במקום להשתמש ב-`new` ישיר על רכיבים קונקרטיים.

```Java
public class Dishwasher {
    private Jet itsJet;
    private Tank itsTank;
    private Heater itsHeater;

    // הלקוח תלוי בהפשטה (AbstractFactory)
    public Dishwasher(AbstractFactory factory) {
        itsJet = factory.createJet();
        itsTank = factory.createTank();
        itsHeater = factory.createHeater();
    }
}
```

  ### הפתרון של Abstract Factory

תבנית Abstract Factory משלבת את הרעיונות משתי התבניות כדי לפתור את הבעיות האלה, אבל המטרה העיקרית שלה היא לפתור בעיה גדולה יותר: יצירת משפחות של אובייקטים קשורים.

- איך היא פותרת את הבעיות?
    

- פותרת OCP: כמו ב-Factory Method, אנחנו יכולים להוסיף "משפחה" חדשה שלמה (למשל, SamsungFactory למדיח) על ידי יצירת מפעל קונקרטי חדש, מבלי לגעת בקוד הקיים.
    
- פותרת SRP: האחריות על היצירה מופרדת לחלוטין מהלוגיקה העסקית. ה-Dishwasher לא יודע כלום על יצירה, הוא רק מקבל Factory ועובד איתו.
    

הבעיה המרכזית שהיא פותרת: היא מבטיחה תאימות בין רכיבים. אם יש לך מדיח של חברת Acme, אתה רוצה לוודא שגם המשאבה, גם המנוע וגם גוף החימום שלו הם כולם של Acme. ה-AcmeFactory מבטיח בדיוק את זה - כל המתודות שלו (createJet, createTank) יחזירו רק אובייקטים ממשפחת Acme.

---
חזרה לFactory:
[[Factory]]

---
## דוגמאות יישום

* ליישום מלא של התבנית לפתרון בעיות אתחול והפרדת גרסאות חומרה, ראה **[[WMS - חלק 3 (Abstract Factory)]]**.


