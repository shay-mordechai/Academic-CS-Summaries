
---

# 1. SRP: Single Responsibility Principle (עקרון האחריות היחידה)

[[SRP]] | [[OCP]] | [[LSP]] | [[ISP]] | [[DIP]]

עקרון האחריות היחידה (**SRP**) הוא כלל יסוד בתכנות מונחה עצמים והוא חלק מרכזי ב-SOLID. יחד עם DIP, הוא בעל המשקל הגבוה ביותר במבחן.

## 🎯 הגדרת העיקרון

1. כל מחלקה או מודול אמורה להיות אחראית **לחלק יחיד** מהפונקציונליות שהתכנה מספקת.
    
2. לכל מחלקה אמורה להיות **סיבה יחידה להשתנות**.
    
3. אחריות זו אמורה להיות **מוכמסת (encapsulated)** על ידי המחלקה.
    

## ⭐ מדוע SRP חשוב?

SRP הוא הבסיס לכל **תכנה מודולרית**. קוד העומד ב-SRP משיג את המאפיינים הבאים:

- **צימוד נמוך (Low Coupling):** הפחתת התלויות של מחלקות אחרות במחלקה זו.
    
- **פחות שביר (Less Fragile):** הקוד יציב יותר.
    
- **ארגון קוד טוב יותר:** קל יותר לחפש במחלקות קטנות בעלות מטרה מוגדרת היטב.
    
- **קלות בדיקה (Testability) ודיבוג (Debugging)**.
    

## 🚫 זיהוי הפרה קלאסית (Master Class)

ההיפך מעקרון האחריות היחידה היא **"מחלקת מאסטר"** (Master Class), שהיא מחלקה שעושה יותר מדי או יודעת יותר מדי.

|**דוגמה להפרה**|**סיבת ההפרה (סיבות שינוי מרובות)**|**הפתרון המומלץ**|
|---|---|---|
|**מחלקה המייצרת דו"ח ומדפיסה אותו**|שתי סיבות לשינוי: שינוי בתוכן הדו"ח, או שינוי בפורמט ההדפסה.|עדיף להפריד לשני מודולים נפרדים.|
|**מחלקה `Refrigerator`**|מכילה פונקציות כמו `organize` ו-`fixFault`.|הפרדת הפונקציות הללו למחלקות חיצוניות (כגון מחלקת טכנאי).|
|**מחלקה `Automobile`**|פונקציות כמו `changeTires`, `wash`, או `checkOil`.|השארת פונקציות הליבה של הרכב (`start()`, `stop()`) והוצאת השאר.|
|**מחלקה `User`**|אחראית על ניהול משתמשים אך גם כוללת `sendNotification`.|הפרדת פונקציית ההתראות למחלקה נפרדת.|
|**מחלקה `Invoice`**|פונקציה כמו `checkClubMembership` (בדיקת חברות במועדון).|הוצאת הפונקציה למחלקת לקוח או מועדון.|

## 🌦️ SRP במקרה הבוחן WMS

- **הפרת SRP ראשונית:** העיצוב הראשוני של המחלקה `Scheduler` הפר את SRP, מכיוון שהיא הייתה אחראית גם על **תזמון** וגם על **עדכון המסך** (`MonitoringScreen`).
    
- **פתרון באמצעות [[Proxy]]:** תבנית ה-**[[Proxy]]** שימשה ב-WMS כדי לפתור הפרת **SRP** על ידי **הפרדת לוגיקת האלגוריתם** (חישוב ערכי קיצון) מלוגיקת **שמירת הנתונים** (Persistence). ה-Proxy (כגון `HiLoDataProxy`) קיבל אחריות טכנית (שמירה לזיכרון בלתי נדיף) ובכך "ניקה" את המחלקה המקורית (`HiLoDataImp`).
    

---

## 📚 שאלות ממבחנים

- **תשפ"ד א ב שאלה 4:** (היתרונות שאינם מתקבלים מיישום SRP).
    
- **תשפ"ד ב א שאלה 12:** (היתרונות שאינם מתקבלים מיישום SRP).
    
- **תשפ"ג ב ב שאלה 6:** (פונקציה שאינה שייכת למחלקת `Invoice`).
    
- **תשפ"ג ב ב שאלה 11:** (הפרת SRP במחלקת `ScheduleManager`).
    
- **תשפ"ד א א שאלה 10:** (הפרת SRP במחלקת `User` בגלל `sendNotification`).
    

---

קודם: [[יחידה 2 עקרונות העיצוב (SOLID)]]

הבא: [[OCP]]

חזרה ל: [[יחידה 2 עקרונות העיצוב (SOLID)]]

תוכן עניינים ראשי: [[Summeries/עיצוב/תוכן עניינים]]