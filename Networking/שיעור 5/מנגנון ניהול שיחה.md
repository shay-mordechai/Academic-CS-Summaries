### [מנגנון]{dir="rtl"} connection [- ניהול שיחה:]{dir="rtl"}

1.  **[הודעות]{dir="rtl"} FIN-ACK[:]{dir="rtl"}**

> [\"לחיצת היד]{dir="rtl"} [התלת-כיוונית\"]{dir="rtl"} [של]{dir="rtl"}
> TCP [היא תהליך ליצירת חיבור בין שני התקנים ברשת, כגון לקוח
> ושרת]{dir="rtl"}. [היא]{dir="rtl"} [כוללת שלושה שלבים בין המכשירים כדי
> להגדיר את החיבור]{dir="rtl"}.[\
>  ]{dir="rtl"}
>
> [[שלב ה]{dir="rtl"}listen]{.underline}[: מתרחש לפני תהליך
> לחיצת]{dir="rtl"} [היד. בשלב זה השרת]{dir="rtl"} [פתח פורט ומתחיל
> להאזין לרשת (קצה הסוקט שלו פתוח)]{dir="rtl"} [על מנת להתכונן לקבלת
> מנות.\
>  ]{dir="rtl"}
>
> [[שלב ה]{dir="rtl"}syn-sent]{.underline}[: הלקוח שולח]{dir="rtl"}
> [הודעת]{dir="rtl"} SYN [(סנכרון) לשרת, המציינת שהוא]{dir="rtl"} [רוצה
> ליצור חיבור, וממתין לתגובה מהשרת.\
>  ]{dir="rtl"}
>
> [[שלב ה]{.underline}]{dir="rtl"}(received) [Syn rcvd]{.underline}[:
> השרת מקבל את הודעת ה]{dir="rtl"}-SYN [ומגיב בהודעת המציינת]{dir="rtl"}
> [שהוא קיבל את הבקשה ומוכן ליצור חיבור]{dir="rtl"}. [\
>  ]{dir="rtl"}
>
> **[הלקוח מקבל]{dir="rtl"}** [את הודעת]{dir="rtl"} SYN-ACK
> **[ושולח]{dir="rtl"}** [הודעת]{dir="rtl"} ACK [(אישור) לשרת, המאשר
> שהוא קיבל]{dir="rtl"} [את הודעת]{dir="rtl"} SYN-ACK [ומוכן ליצירת
> חיבור]{dir="rtl"}.[\
> ** **]{dir="rtl"}
>
> [[שלב ה]{dir="rtl"} Established]{.underline} [(התבסס): נוצר
> חיבור,]{dir="rtl"} [וניתן להעביר נתונים בין הלקוח לשרת]{dir="rtl"}.[\
>  ]{dir="rtl"}
>
> [[שלב ה]{dir="rtl"}close]{.underline}[: שלב בן 4 שלבים המגדיר סיום
> התקשרות הדדי.]{dir="rtl"}
>
> [כאשר אחד מהצדדים סיים את העברת הנתונים,]{dir="rtl"}

-   [הוא שולח הודעת]{dir="rtl"} fin [המציינת זאת.]{dir="rtl"}

-   [מקבל ה]{dir="rtl"}FIN [שולח]{dir="rtl"} ACK [המאשר את שקיבל
    הודעת]{dir="rtl"} FIN[.]{dir="rtl"}

-   [מקבל ה]{dir="rtl"}FIN[, שולח כעת בעצמו הודעת]{dir="rtl"}
    FIN[.]{dir="rtl"}

-   [השולח שולח הודעת]{dir="rtl"} ACK[, וכך מסתיימת
    ההתקשרות.]{dir="rtl"}

> [דוגמא:]{dir="rtl"}
>
> ![](image54.png){width="3.6166666666666667in"
> height="4.425in"}
>
> [ דוגמא 2:]{dir="rtl"}
>
> ![](Summeries/מבוא%20לרשתות%20מחשבים/media/media/image55.png){width="4.033333333333333in"
> height="3.716666666666667in"}
>
> [תרגום חלק ה]{dir="rtl"}DATA[:]{dir="rtl"}
>
> [**שולח**: אני מתחיל ב]{dir="rtl"}a[, ומעוניין שאתה תתחיל
> ב]{dir="rtl"}b[.]{dir="rtl"}
>
> [**מקבל**: אני מתחיל ב]{dir="rtl"}b[, ואני מבין שאתה תמשיך
> ב]{dir="rtl"}a+c [כי גודל הסיגמנט ששלחת הינו]{dir="rtl"}
> c[.]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> **[שיקולים בשליחת]{dir="rtl"} FIN[:]{dir="rtl"}**
>
> [יכול להיות שלמרות שישלח ה]{dir="rtl"}fin [ועדיין ישלחו חבילות, לכן יש
> המתנה יזומה 2 דקות לאחר ה]{dir="rtl"} fin [עד סגירה מלאה.]{dir="rtl"}
>
> [אם המקבל לא קיבל את ה]{dir="rtl"} fin[, אז ישלח שוב. אני מחכה כדי
> להיות בטוח שכל חבילה פוטנציאלית לא תגיע אליי. לא ארצה להשתמש שוב
> באותו]{dir="rtl"} Sequence number[, עד שאהיה בטוח שכל החבילות שמיועדות
> אליי נמחקו. מחכים כדי להיות בטוח שאין שאריות כדי לא לקבל מידע
> ישן.]{dir="rtl"}
>
> [\*במסמך ה]{dir="rtl"}RFC [מסבירים על תיאור שלבי הסוקט בין קליינט
> לסרבר.]{dir="rtl"}
>
> [ ]{dir="rtl"}

2.  **[הודעות]{dir="rtl"} RST[:]{dir="rtl"}**

> [הודעות איפוס הנשלחות כדי לסיים מיידית חיבור עם מארח אחר.]{dir="rtl"}\
> [שימושים שונים בהודעות]{dir="rtl"} RST[:]{dir="rtl"}

-   [שרת המקבל מידע שלא רלוונטי אליו, חבילת ה]{dir="rtl"}RST [יציין
    ללקוח שבקשת החיבור נדחתה. למשל: אין לו שימוש ב]{dir="rtl"}WEB[, אך
    בכל זאת שולחים לו לפורט 80 שלא פתוח בכלל, אז הוא יכול: או להתעלם, או
    לשלוח לו]{dir="rtl"} RST [שלא ינסה לבקש או לשלוח חבילות]{dir="rtl"}
    WEB[.]{dir="rtl"}

-   [אם אני רוצה לבטל חבילה ששלחתי, אוכל לעשות]{dir="rtl"} RST [כדי לבטל
    את התקשורת.]{dir="rtl"}

> \*[צריך להשתמש בהודעת]{dir="rtl"} RST [בזהירות, מפני שהיא גורמת לצד
> המקבל, למחוק את כל המידע שעל ה]{dir="rtl"}buffer [שלו.]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> *[(האקרים יכולים לנצל חולשות בפרוטוקול ולתקוף באחד משלבי יצירת החיבור
> או הניתוק בין קליינט לסרבר).]{dir="rtl"}*

-   *[להציף את השרת בשליחת מנות בשלב הסגירה ולמנוע ממנו להשלים
    אותה.]{dir="rtl"}*

-   *[לשלוח חבילת]{dir="rtl"} RST [מזויפת לאחד או לשני קצוות]{dir="rtl"}
    [החיבור, מה שעלול לגרום לחיבור להיסגר בפתאומיות מבלי לעבור את רצף
    הסגירה]{dir="rtl"} [המתאים]{dir="rtl"}.*

> *[לכן חשוב שיהיו אמצעי אבטחה]{dir="rtl"} [נאותים כדי למנוע או לצמצם
> אותן]{dir="rtl"}.[)]{dir="rtl"}*
>
> [ ]{dir="rtl"}
