### [מנגנון]{dir="rtl"} flow control[בקרת זרימה:]{dir="rtl"}

[**מנגנון המופעל ע\"י המקבל**.]{dir="rtl"}

1.  Receive Window Size[: מנגנון המאפשר לסרבר לשלוט בכמות הנתונים
    כדי]{dir="rtl"} [למנוע]{dir="rtl"} [מהשלוח להעמיס על המקבל.
    המקבל]{dir="rtl"} [מפרסם את שטח המאגר הפנוי שלו בפני השולח -
    הנקרא]{dir="rtl"} window[, מה שמגביל את כמות הנתונים שהשולח יכול
    לשדר לפני קבלת]{dir="rtl"} ACK[.\
    מנגנון בקרת זרימה ב-]{dir="rtl"}TCP[. זה מציין את כמות הנתונים הלא
    מאושרים שהמקבל מוכן לקבל.\
     ]{dir="rtl"}

[הערה:]{dir="rtl"}

[ברשתות מהירות כגון סיבים אופטיים, המשמשות לוינים למשל, יכולות להיות
מהירות מאוד, אך אם לא אעדכן את חלון אני לא מנצל טוב את הרשת.]{dir="rtl"}

-   [חלון ההזזה]{dir="rtl"} rwnd [מאפשר שליחת מנות יעילה יותר.\
    ללא חלון ההזזה, חייבים לשלוח סיגמנט אחד בכל פעם, מפני שתמיד יש חשש
    שהרשת תהיה עמוסה והסיגמנט לא יגיע.\
    ע\"י שהמקבל מחזיק ומעדכן בכל פעם את גודל חלון ההזזה, זה מאפשר לשולח
    לשלוח כמה סיגמנטים ברצף כמעט ללא חשש.]{dir="rtl"}

-   [בשרתי]{dir="rtl"} TCP [כמו גוגל, המנגנון הזה מונע עומס, כי היא
    תעדכן את החלון שלה בכל כמה שניות ותיידע בכך את הקליינטים שישלחו פחות
    בקשות דפי אינטרנט שמצריכות ממנה לטפל בכולן.]{dir="rtl"}

-   [לאחר שהגיע]{dir="rtl"} ACK [עם ה]{dir="rtl"}seq number [הבא, השולח
    מבין שהוא יכול לשלוח עוד סיגמנטים בגודל החלון.\
    \
     ]{dir="rtl"}

2.  Error control[:]{dir="rtl"}

> [מנגנון]{dir="rtl"} TCP [לתפוקה יעילה:]{dir="rtl"}
>
> [מקבל]{dir="rtl"} ACK [מהמקלט כדי לאשר קבלת מספר סיגמנטים יחד.
> ה-]{dir="rtl"}ACK [שהתקבל נושא את מספר הרצף של הקטע הצפוי
> הבא.]{dir="rtl"}

-   [אם מתקבלים ארבעה]{dir="rtl"} ACKs [עם אותו מספר רצף (מקור אחד
    ושלושה כפילויות), השולח מבין שעליו לשדר מחדש.]{dir="rtl"}

-   [אם לא התקבל]{dir="rtl"} ACK [ותקופת הזמן הקצוב חלפה, השולח ישדר
    מחדש. גם אם]{dir="rtl"} ACK [מגיע לאחר פסק הזמן, הקטע עדיין עשוי
    להיות משודר מחדש.]{dir="rtl"}

> [ ]{dir="rtl"}
>
> [[יתרון]{.underline}: זה קל ליישום ודורש שטח חיץ מינימלי מכיוון שצריך
> לאחסן רק]{dir="rtl"} ACK [אחד עבור כל מנה במקום]{dir="rtl"} ACK [עבור
> כל מקטע.]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> [[חסרון]{.underline}: התפוקה נמוכה יותר מכיוון שהיא דורשת המתנה לזמן
> ארוך יותר לפני שליחת החבילה הבאה.]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> [כאשר קטע נשלח, מופעל טיימר (בצד השולח בלבד). הגדרת פסק זמן קצר מדי
> עלולה לגרום לאובדן מנות, בעוד שהגדרה ארוכה מדי עלולה לבזבז זמן. כיצד
> נבחר את משך הזמן הקצוב?]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> [אם קטע אובד, מופעל אחד המנגנונים שלמדנו בשיעור הקודם. מדוע לא נבצע
> מיד שידור חוזר כאשר]{dir="rtl"} ACK [אינו מתקבל?]{dir="rtl"}
>
> [אנו ממשיכים לשלוח קטעים כרגיל כדי להבטיח שהרשת פועלת כהלכה ושהקטע
> שעבורו לא קיבלנו]{dir="rtl"} ACK [כנראה אבד. לכן, אנו שומרים את השידור
> החוזר לשידורים הבאים.]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> RTO (Retransmission Timeout) [הוא סוג של פסק זמן המגדיר את משך הזמן
> שבו השולח ממתין לאישור (]{dir="rtl"}ACK[) מהמקלט לפני שידור חוזר של
> קטע.]{dir="rtl"}