
## [שיעור 3 - שרת]{dir="rtl"} DNS

> [[שרת]{dir="rtl"} DNS [-]{dir="rtl"}]{.underline}
>
> [משתמש בפרוטוקול]{dir="rtl"} UDP[.]{dir="rtl"}
>
> [אחראי לספק כתובות]{dir="rtl"} IP [על פי שם]{dir="rtl"} domain[. מחזיק
> קטלוג עם שם ו]{dir="rtl"}IP[.]{dir="rtl"}
>
> [כאשר אני רושם את כתובת ה]{dir="rtl"}domain [של אתר ב]{dir="rtl"}URL[,
> היא \"מתורגמת\" לכתובת ה]{dir="rtl"}IP [שלה. מי שנותן שירות זה זהו שרת
> ה]{dir="rtl"}DNS[.]{dir="rtl"}
>
> [דפדפן המשתמש פונה לשרת ה]{dir="rtl"}DNS [ואם הדף איננו נמצא במטמון,
> הוא שולח בקשה לשרת ה]{dir="rtl"}DNS [שיאמר לו לאיזה]{dir="rtl"} IP [עם
> שם זה, לשלוח את בקשת דף האינטרנט.]{dir="rtl"}
>
> [כשאני מתחבר לאתר אינטרנט באמצעות הדפדפן, בעצם המחשב שלי שולח בקשה
> לשרת ה]{dir="rtl"}DNS[, שמעביר את הבקשה שלי לשרת ה]{dir="rtl"}ROOT
> [שתפקידו להעביר אותי לשרתים נוספים שיפענחו לי את הכתובת מאותיות,
> לכתובת]{dir="rtl"} IP[.]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> [למשל, שאילתה לשרת מרמת]{dir="rtl"} [ה]{dir="rtl"}ROOT
> [לגבי]{dir="rtl"}
> [[www.mywebsite.co.il]{.underline}](http://www.mywebsite.co.il)

-   [הבקשה תופנה לשרת]{dir="rtl"} TDL[אשר אחראי על כלל שמות התחום
    הישראליים -]{dir="rtl"}.il

-   [שרת זה]{dir="rtl"} [יפנה]{dir="rtl"} [לשרת]{dir="rtl"} TDL [מסוג
    אחר שיתרגם לי את]{dir="rtl"} .co [הוא אחראי]{dir="rtl"} [על כתובות
    של אתרים מסחריים בישראל]{dir="rtl"}.

-   [יעביר אותי לשרת]{dir="rtl"} DNS [שיטפל בחלק השלישי של]{dir="rtl"}
    [הכתובת]{dir="rtl"} .mywebsite

-   [וגם יפנה את הבקשה לשרת המארח]{dir="rtl"} (Host) [של]{dir="rtl"}
    mywebsite, [שיבדוק וימצא שהמשתמש מעוניין בכתובת ה]{dir="rtl"}-IP [של
    שרת האינטרנט]{dir="rtl"} (www) [ויספק את]{dir="rtl"} [הכתובת
    המבוקשת]{dir="rtl"}.[\
    \
    אם ביקשנו כבר פעם אחת, כתובת ה]{dir="rtl"}IP [של האתר נשמרה אצלנו
    בקוקיז ולכן לא תשלח הודעה ל]{dir="rtl"}DNS [אלא תילקח מהקוקיז, אך
    תחזיק שם שיעור זמן]{dir="rtl"} TLL [(זמן קצוב מראש).]{dir="rtl"}

> [ ]{dir="rtl"}
>
> [יש שני סוגים של קשרים בפרוטוקול ה]{dir="rtl"}DNS[:]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> **[Non-persistent]{.underline}** [: חיבור לא מתמשך, לאחר שהוקמה שיחה
> ונשלחה בקשה אחת, השרת מגיב ומנתק מיד את החיבור.]{dir="rtl"}
>
> [יתרון:]{dir="rtl"}

-   [אפשרות של שידור מקביל, מכיוון שניתן ליצור מספר חיבורים ולהעביר
    נתונים בו זמנית.]{dir="rtl"}

-   [יעיל בעיקר לשרת]{dir="rtl"} DNS [שיכול להגיב לכל בקשה, ומיד להתפנות
    לבקשות הבאות.]{dir="rtl"}

> [ ]{dir="rtl"}
>
> [Persistent]{.underline}[: מתמשך. השיחה נשארת פתוחה עד שיסגר הדף.
> דוגמא:]{dir="rtl"} URL[.]{dir="rtl"}
>
> [יתרון:]{dir="rtl"}

-   [יעיל עבור שרתים המספקים מידע רב עבור לקוחות.]{dir="rtl"}

-   [מאפשר ריבוי של בקשות ותגובות שונות בתוך אותו חיבור (על אותו
    סוקט).]{dir="rtl"}

> [ ]{dir="rtl"}
>
> [דוגמא לשיחה המתבצעת בשיטת]{dir="rtl"} non-persistent[:]{dir="rtl"}
>
> ![](image24.png){width="2.8833333333333333in"
> height="2.475in"}
>
> [לאחר הקמת שיחה, (חילוף מידע אישי והקמת סוקט), נשלחת בקשה לקובץ
> ושליחתו. (עד כאן]{dir="rtl"} 2RTT[). נוסיף את הזמן שלוקח להעלות את
> הביטים על הכבל, וקיבלנו את הזמן הכולל.]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> RTT [= זמן כולל של המשלוח מהקלנייט עד הסרבר.]{dir="rtl"}
>
> [חיבור]{dir="rtl"} non-persistent [דורש לפחות 2]{dir="rtl"} RTT [לכל
> חבילה.]{dir="rtl"}
>
> [חיבור]{dir="rtl"} persistent [דורש]{dir="rtl"} 1 RTT [לכל
> הפחות.]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> [[מטמון -]{dir="rtl"} web cashes[:]{dir="rtl"}]{.underline}
>
> [מנגנון המשמש לאחסון ולשרת משאבי אינטרנט שניגשו אליהם בעבר כדי לשפר את
> הביצועים ולהפחית את העומס על השרתים. נמצא בד\"כ אצל הלקוח.]{dir="rtl"}
>
> [ ]{dir="rtl"}

-   **[בקשות]{dir="rtl"} GET [עם תנאי]{dir="rtl"}**[:]{dir="rtl"}

> [דפדפן שולח]{dir="rtl"} GET [לשרת להביא את הדף הרצוי. אם הדפדפן יבקר
> באתר שוב, הוא יפנה לנתונים ששמר במטמון, כדי לא לבזבז זמן על להעביר את
> אותו הדף שוב ושוב.\
>  ]{dir="rtl"}
>
> [ככל שהמטמון יותר מלא, כך ההוצאה מהמטמון תהיה יותר איטית.]{dir="rtl"}
>
> [למשל בגוגל, כל דף מורכב מחלק סטטי שישמר במטמון, וחלק דינמי שיגיע בכל
> פעם מהשרת עצמו. כך תבנית העמוד תופיע מהר, והחלק של המידע המתחדש יגיע
> לאחר שהשרת יתן לי אותו.]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> [לדוגמא: אני נכנס ל]{dir="rtl"}Ynet [ונכנס לדף אינטרנט. אם אצא ואחזור
> אחרי מעט זמן, אשלח בקשת]{dir="rtl"} GET [עם תנאי -]{dir="rtl"} if
> modifide [יביא לי דף אינטרנט חדש.]{dir="rtl"} if not modifide [יביא לי
> את הדף מהמטמון.]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> [\*מה ההבדל בין]{dir="rtl"} F5 [ל]{dir="rtl"} ctrl+F5[?]{dir="rtl"}
>
> F5 []{dir="rtl"}- [זה ריענון, מביא את הדף שוב, מביא אותו מהמטמון. אם
> אין, יביא מהשרת (]{dir="rtl"}GET [עם תנאי).]{dir="rtl"}
>
> ctrl+F5 []{dir="rtl"}- [למרות שהדף נמצא במטמון מביא אותו שוב מהשרת
> כאילו פוגש אותו פעם ראשונה]{dir="rtl"}
>
> [שימוש במטמון מקטין עומסים, חוסך בקשה משרת מרוחק.]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> [יתרון - חוסך בעומס.]{dir="rtl"}
>
> [ ]{dir="rtl"}

-   [האתר יוסר מהמטמון על פי פרמטרים שונים, שגורמים לו להיות יעיל ולא
    לאגור פסולת.]{dir="rtl"}

> [ ]{dir="rtl"}
>
> [אם מתכנת השרת לא רשם תאריך תפוגה של העמוד (מתי איננו עדכני), הוא יקבל
> הרבה בקשות לעמודים.]{dir="rtl"}
>
> [אם יש תאריך תפוגה, זה יוריד ממנו עומסים והבקשות ישלחו למטמון ולא
> לשרת, אלא אם פג התוקף.]{dir="rtl"}
>
> [ ]{dir="rtl"}

-   [איך מחשבים ניצול רוחב פס?]{dir="rtl"}

> [נגיד ומהירות ההורדה היא]{dir="rtl"} 1.5Mps[.]{dir="rtl"}
>
> [רוחב הפס]{dir="rtl"} 1.54Mps[.]{dir="rtl"}
>
> [1.5]{dir="rtl"}m/1.54m=0.974 []{dir="rtl"}
>
> [אז ניצול רוחב הפס במקרה זה הוא בערך]{dir="rtl"} 97.4%.
>
> [ ]{dir="rtl"}

-   [אם אני שם מטמון, מה קורה?]{dir="rtl"}

> [כאשר]{dir="rtl"} 60% [מהבקשות הן סטטיות, אז מהירות ההורדה היא
> 0.6\*1.5 כלומר]{dir="rtl"} 0.9Mbps[.]{dir="rtl"}
>
> [0.9]{dir="rtl"}m/1.54m=0.5844 []{dir="rtl"}
>
> [עם יישום מטמון, ניצול רוחב הפס יהיה כ-]{dir="rtl"}58.44%.
>
> [ ]{dir="rtl"}
>
> [מסקנה:]{dir="rtl"}
>
> [הראשון שמבקש את העמוד, מבקש ישירות מהשרת.]{dir="rtl"}
>
> [האחרים שיבקשו, ישתמשו בשרת מקומי]{dir="rtl"} LAN [מהיר יותר (כי הרוב
> שמור במטמון).]{dir="rtl"}
>
> [במקום אחוז הניצול]{dir="rtl"} 97%[, כעת הניצול יעוד על]{dir="rtl"}
> 58%[, אלא אם כל אחד יבקש עמוד אחר ואז המטמון לא יועיל.]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> [[קבצי]{dir="rtl"}coockies [:]{dir="rtl"}]{.underline}
>
> [בנוסף לדפי אינטרנט הנשמרים במטמון הדפדפן, הוא]{dir="rtl"}
> [שומר]{dir="rtl"} [גם נתוני משתמש אישיים, כגון]{dir="rtl"} [חיפושים,
> העדפות, תחומי עניין, מיקומים]{dir="rtl"}.
>
> [אתרים רבים משתמשים בנתונים אלה כדי לשלוח]{dir="rtl"} [פרסומות ממוקדות
> על סמך נתונים אלה]{dir="rtl"}.
>
> [השרת הוא זה שיוזם את הבקשה להשתמש]{dir="rtl"} [בקובצי]{dir="rtl"}
> Cookie[.]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> [תפוגה: לעוגיות יכול להיות תאריך תפוגה שנקבע על ידי השרת, כגון בסגירת
> הדפדפן, עד תאריך מסויים או עד שהמשתמש ימחק אותם.]{dir="rtl"}
>
> [ ]{dir="rtl"}

