## [שיעור 10 - הרשת המקומית]{dir="rtl"}

### [פרוטוקול]{dir="rtl"} LAN[:]{dir="rtl"}

> Local Area Network[. מאפשר חיבור מרובה של מספר משתמשים לאותה הרשת
> המקומית, החולקים את אותו ערוץ פיזי משותף.\
> שכבת הקישור]{dir="rtl"} [מבטיחה גישה הוגנת ויעילה לחיבור]{dir="rtl"}
> [המשותף (חוטי/אלחוטי)]{dir="rtl"}.
>
> [הוא משתמש בפרוטוקולי גישה מרובים כדי לתאם גישה ולמנוע]{dir="rtl"}
> [התנגשויות, כגון ה]{dir="rtl"}-Carrier Sense Multiple Access
> [של]{dir="rtl"} Ethernet [עם זיהוי התנגשות]{dir="rtl"} (CSMA/CD).
>
> [ ]{dir="rtl"}
>
> [רשתות מקומיות]{dir="rtl"} (LAN): [רשתות]{dir="rtl"} LAN [הן סוג נפוץ
> של רשת המכסה אזור]{dir="rtl"} [גיאוגרפי מוגבל, כגון בית, משרד או
> קמפוס. שכבת הקישור ממלאת תפקיד מכריע ברשתות]{dir="rtl"} LAN [על ידי
> הקלת תקשורת בין התקנים המחוברים לאותו]{dir="rtl"} LAN. Ethernet [היא
> אחת]{dir="rtl"} [מטכנולוגיות ה]{dir="rtl"}-LAN [הנפוצות ביותר, והיא
> מגדירה את פרוטוקול שכבת הקישור לתקשורת]{dir="rtl"} LAN.
>
> [ ]{dir="rtl"}
>
> [[כתובת]{dir="rtl"} MAC]{.underline}
>
> [כתובות חומרה.]{dir="rtl"}
>
> [שכבת הלן \$]{dir="rtl"}
>
> [מה הכתובת מאק ? 32 ביט זה כתובת איפי כתובת המאק היא 48 ביטים התפקיד
> היחיד של כתבות המאק היא תקשורת בשכבה 2 בלבד]{dir="rtl"}
>
> [מקומית כל ממשק יש לו כתובת מאק לכל נתב יש מאק אחר]{dir="rtl"}
>
> [המתג מסתכל על הכתובת מאק והוא מחליט מאיזה רגל להוציא]{dir="rtl"}
>
> [כתובת מאק כפופות ל]{dir="rtl"}IEEE
>
> [24 ביטים ראשונים זה מזהה ארגון]{dir="rtl"}
>
> [24 הביטים השניים זה מספר רץ]{dir="rtl"}
>
> [מדוע צריך כתובת חומרה אם יש כבר כתובת]{dir="rtl"} IP[?\
> באופן עקרוני, כשיש רק יעד אחד על חוט בודד זה לא בעיה כי יש רק נמען
> אחד, ואין טעויות במשלוח. עם זאת, אם נתייחס לרשת בטופולוגיה מעגלית
> (כגון אוטובוס), שבה מחוברים מספר מחשבים, כיצד יידע המחשב הרלוונטי
> במעגל לקבל את הנתונים? גם אם נשלח אותו למתג, המתג עדיין צריך לדעת לאן
> להעביר אותו.]{dir="rtl"}
>
> [בתוך ארגון, אין צורך בכתובת]{dir="rtl"} IP [מכיוון שהיא גלובלית,
> בניגוד לכתובת חומרה שהיא מקומית. לכן, לכתובת החומרה אין משמעות בצד
> השני של הנתב.]{dir="rtl"}

-   [מייצגת כתובת \"בקרת גישה למדיה\". הוא נצרב בחומרה ומשמש כמזהה
    ייחודי למכשירים ברשת.]{dir="rtl"}

-   [כתובות של 48 סיביות. לכל ממשק ונתב יש כתובת]{dir="rtl"} MAC
    [ייחודית משלו.]{dir="rtl"}

-   [מתגים משתמשים בכתובות]{dir="rtl"} MAC [כדי לקבוע לאיזה פורט להעביר
    מסגרת.]{dir="rtl"}

-   [עוקבות אחר תקן]{dir="rtl"} IEEE[, כאשר 24 הסיביות הראשונות מייצגות
    את מזהה הארגון ו-24 הסיביות האחרונות מייצגות את המספר
    הסידורי.]{dir="rtl"}

> [כתובות]{dir="rtl"} MAC [דומות למספרי זיהוי, בעוד שכתובות]{dir="rtl"}
> IP [דומות לכתובות ביתיות.]{dir="rtl"}
>
> [כדי לקבוע את כתובת ה-]{dir="rtl"}MAC [של התקן הנמען, מחשב יכול להשתמש
> בפרוטוקול]{dir="rtl"} ARP[, שיוסבר בהמשך.]{dir="rtl"}

-   [הגוף שאחראי על חלוקת כתובת]{dir="rtl"} mac [נקרא]{dir="rtl"} IEEE[.
    הוא זה שגם הגדיר את פרוטוקולי]{dir="rtl"} ,bloothus[.]{dir="rtl"}

> [ ]{dir="rtl"}
>
> [אנלוגיה - כתובת ה-]{dir="rtl"}MAC [היא כמו מספר תעודת זהות, וכתובת
> ה-]{dir="rtl"}IP [היא כמו כתובת הבית שלך (אתה יכול לשאת את מספר התעודה
> שלך איתך, אבל אתה לא יכול לקחת איתך הביתה).]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> [ ]{dir="rtl"}

### [פרוטוקול]{dir="rtl"} ARP[:]{dir="rtl"}

> [למדנו על חבילת פינג שניתן לשלוח ממחשב אחד למחשב אחר.\\]{dir="rtl"}
>
> [הודעת פינג מורכבת מהשדות הבאים:]{dir="rtl"}
>
> ![](image161.png){width="5.5in"
> height="0.2833333333333333in"}
>
> [כדי לשלוח חבילה כזו, המחשב השולח צריך לדעת את כתובת ה]{dir="rtl"}MAC
> [של המקבל.]{dir="rtl"}
>
> [כיצד ניתן לעשות זאת?]{dir="rtl"}
>
> [ע\"י פרוטוקול ה]{dir="rtl"}ARP[,]{dir="rtl"}
>
> ![](image162.gif){width="3.1666666666666665in"
> height="2.6in"}
>
> [\
> פרוטוקול של שכבת הקישור הממפה כרטיסי רשת סמוכים ברשת מקומית.
> בקשת]{dir="rtl"} ARP [נשלחת עם כתובת]{dir="rtl"} IP [של מחשב היעד,
> מחשב היעד שמזהה כי הבקשה ממוענת אליו מחזיר תשובה ובה כתובת
> ה-]{dir="rtl"}MAC [שלו.]{dir="rtl"}
>
> ([או בשמו המלא]{dir="rtl"} -- Address Resolution Protocol) [מאפשר
> לכל]{dir="rtl"} [מחשב]{dir="rtl"} **[לגבש טבלה של כל כרטיסי
> הרשת]{dir="rtl"}** [שהוא מחובר אליהם ישירות ברשת מקומית]{dir="rtl"}.
> [כל רישום בטבלה כולל את]{dir="rtl"} [כתובת ה]{dir="rtl"}-IP
>
> [ ]{dir="rtl"}
>
>  [של כל מחשב, ובהתאמה את]{dir="rtl"} [כתובת ה]{dir="rtl"}-MAC
>
>  [של כרטיס הרשת באותו מחשב. גם ב]{dir="rtl"}-ARP, [כמו]{dir="rtl"}
> [בפרוטוקול]{dir="rtl"} DNS
>
>  [שעליו למדנו, מתבצע תהליך של שמירת זיכרון מטמון]{dir="rtl"} (Cache
>
> [ ]{dir="rtl"}
>
> [פרוטוקול]{dir="rtl"} ARP [רלוונטי רק בשכבת]{dir="rtl"}
> [הקישור,]{dir="rtl"} [כלומר רק ברשת המקומית.]{dir="rtl"}
>
> **[איך המחשב שלנו יודע מי נמצא איתו ברשת]{dir="rtl"}
> [המקומית]{dir="rtl"}**?
>
> [זוכרים שלמדנו על מסיכת רשת, שמחלקת את כתובת ה]{dir="rtl"}-IP [למזהה
> רשת]{dir="rtl"} [ומזהה ישות? באמצעות השוואת מזהה הרשת של מחשב היעד,
> למזהה הרשת שלו, יכול כל]{dir="rtl"} [מחשב לזהות את המחשבים שחולקים
> איתו את הרשת המקומית]{dir="rtl"}.
>
> [ ]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> [כדי שנוכל להעביר מידע בין מחשבים סמוכים בשכבת]{dir="rtl"}
> [הקישור]{dir="rtl"}, [יש]{dir="rtl"} **[לקשר בין כתובת
> ה]{dir="rtl"}-IP [למחשב הפיזי אליו שייכת]{dir="rtl"}
> [הכתובת]{dir="rtl"}**, [וזיהוי זה מתבצע באמצעות כתובת]{dir="rtl"} MAC
> [הצרובה על כרטיס הרשת]{dir="rtl"}.
>
> [יש לנו כתובת]{dir="rtl"} IP, [ואין לנו כתובת]{dir="rtl"} MAC. [איך
> המחשב שלנו ידע מה]{dir="rtl"} [כתובת ה]{dir="rtl"}-MAC [של מחשב אחר
> ברשת המקומית]{dir="rtl"}? **[באמצעות פרוטוקול]{dir="rtl"} ARP. [כך
> הוא]{dir="rtl"} [עובד]{dir="rtl"}**:

-   [מחשב א שולח שאלה]{dir="rtl"} (ARP Request) [לכל הישויות ברשת
    המקומית]{dir="rtl"}: **[למי יש את כתובת ה]{dir="rtl"}-MAC [המתאימה
    ל]{dir="rtl"}-IP [של מחשב ב]{dir="rtl"}?[\
    ]{dir="rtl"}**[איך שולחים הודעה לכל המחשבים]{dir="rtl"} [המחוברים
    ברשת מקומית? הכתובת 255:255:255:255:255:255 היא כתובת]{dir="rtl"}
    Broadcast [של כתובות]{dir="rtl"} MAC [והיא כוללת את כלל הישויות
    המחוברות לרשת המקומית, בדומה]{dir="rtl"} [לשליחת הודעה לקבוצת
    וואטסאפ]{dir="rtl"}.

-   [מחשב ב מזהה את כתובת ה]{dir="rtl"}-IP [שלו, ולכן רק הוא יענה
    להודעה]{dir="rtl"} (ARP Response) [שבה הכתובת הפיזית
    שלו]{dir="rtl"}.

> [באותה דרך מחשב א יכול לגלות את כתובת ה]{dir="rtl"}-MAC [של הראוטר
> המחובר]{dir="rtl"} [אליו. כפי שלמדנו, הראוטר הוא הקישור של המחשב לרשת
> החיצונית, ולכן כאשר יש למחשב]{dir="rtl"} [א את הכתובת של
> הראוטר]{dir="rtl"}
>
>  [הוא יכול לשלוח]{dir="rtl"} [פקטה]{dir="rtl"}
>
>  [לכל מחשב אחר ברשת האינטרנט]{dir="rtl"}.
>
> [ ]{dir="rtl"}
>
> [ראוטר,נתב:]{dir="rtl"}
>
> [רכיב תקשורת מחשבים שנועד לקביעת הנתיב להפצת חבילות נתונים ברשת. כאשר
> הנתב מקבל חבילה, הוא בודק מהי כתובת היעד שלה, ומסתמך על פרוטוקולי
> הניתוב כדי לשלוח אותה לצומת הבאה בדרך אל היעד.]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> [למדנו שבקשת]{dir="rtl"} ARP
>
>  [נשלחת לכל הישויות ברשת המקומית]{dir="rtl"}
>
> , [במטרה למפות בין כתובת לוגית לכתובת פיזית (מכתובת]{dir="rtl"} IP
>
> [ ]{dir="rtl"}
>
>  [לכתובת]{dir="rtl"} MAC
>
> ). [בתגובה, המחשב שכתובת ה]{dir="rtl"}-IP [בבקשה שייכת לו, מחזיר את
> כתובת]{dir="rtl"} [ה]{dir="rtl"}-MAC [שלו]{dir="rtl"}.
>
> [בשונה מהפקטות שהצגנו עד כה, בקשה ותגובה בפרוטוקול]{dir="rtl"} ARP
> [עוברות]{dir="rtl"} [רק בשכבה השניה (שכבת הקו), לכן בקשות
> ותגובות]{dir="rtl"} ARP [נעטפות רק ב]{dir="rtl"}-Header
> [אחד]{dir="rtl"}:
>
> [ ]{dir="rtl"}
>
> [ ]{dir="rtl"}

### [פרוטוקול]{dir="rtl"} Ethernet[:]{dir="rtl"}

> Ethernet [היא טכנולוגיית רשת מקומית קווית (]{dir="rtl"}LAN[) בשימוש
> נרחב, הקיימת מאז פיתוחה על ידי רוברט מטקאלף בשנות ה-70. היא נחשבת
> לטכנולוגיית]{dir="rtl"} LAN [קווית דומיננטית בשל האימוץ הנרחב שלה
> והמשך האבולוציה.]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> []{dir="rtl"}Ethernet [הייתה אחת מטכנולוגיות ה-]{dir="rtl"}LAN
> [המוקדמות ביותר וצברה פופולריות בזכות הפשטות והמחיר סביר
> שלה.]{dir="rtl"}
>
> [במהלך השנים,]{dir="rtl"} Ethernet [התפתח ללא הרף כדי לעמוד בקצב
> הדרישה הגוברת למהירויות העברת נתונים גבוהות יותר. הוא התקדם מהמהירות
> ההתחלתית של 10]{dir="rtl"} Mbps [(מגה-ביט לשנייה) לתקן הנוכחי של
> 400]{dir="rtl"} Gbps [(גיגה-ביט לשנייה).]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> [טופולוגיה פיזית של]{dir="rtl"} Ethernet[:]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> [לרשתות]{dir="rtl"} Ethernet [יכולות להיות טופולוגיות פיזיות שונות,
> המגדירות כיצד התקנים מחוברים זה לזה. שתי טופולוגיות נפוצות
> הן:]{dir="rtl"}
>
> [ ]{dir="rtl"}

-   bus[, כל התקני הרשת מחוברים למדיום תקשורת יחיד, בדרך כלל כבל
    קואקסיאלי. עם זאת, טופולוגיה זו הייתה פופולרית עד אמצע שנות ה-90
    ומאז הוחלפה במידה רבה ב-]{dir="rtl"}Ethernet [מיתוג.]{dir="rtl"}

-   Switched[: הטופולוגיה המתחלפת נפוצה ברשתות]{dir="rtl"} Ethernet
    [מודרניות. זה כרוך בשימוש במתגים פעילים בשכבת קישור במרכז, כאשר לכל
    מכשיר יש חיבור ייעודי למתג. הסדר זה מאפשר לכל מכשיר להיות בעל תחום
    התנגשות משלו, כלומר הם אינם מתנגשים זה בזה במהלך העברת
    נתונים.]{dir="rtl"}

> [ ]{dir="rtl"}
>
> [[מבנה מסגרת]{dir="rtl"} Ethernet[:]{dir="rtl"}]{.underline}
>
> [ ]{dir="rtl"}
>
> Ethernet frames [עוטפות חבילות שכבת רשת, כגון נתוני]{dir="rtl"} IP[,
> לשידור על פני רשת ה-]{dir="rtl"}Ethernet[.]{dir="rtl"}
>
> [מבנה המסגרת כולל את הרכיבים הבאים:]{dir="rtl"}
>
> ![](image163.png){width="5.241666666666666in"
> height="0.6416666666666667in"}
>
> [ ]{dir="rtl"}

-   []{dir="rtl"}preamble [- סנכרון קצבי השעון של המקלט
    והשולח.]{dir="rtl"}

> [ ]{dir="rtl"}

-   [כתובת יעד - זהו שדה של 6 בתים המכיל את כתובת ה-]{dir="rtl"}MAC [של
    המחשב שעבורו מיועדים הנתונים.\
    היעד הוא הראשון, כי אם יש זיהוי אני לא היעד אוכל לזרוק את
    החבילה.]{dir="rtl"}

> [ ]{dir="rtl"}

-   [כתובת מקור - זהו שדה של 6 בתים המכיל את כתובת ה-]{dir="rtl"}MAC [של
    מכונת המקור.]{dir="rtl"}

> [ ]{dir="rtl"}

-   [נתונים - זהו המקום בו מוכנסים נתונים בפועל, הידוע גם
    בשם]{dir="rtl"} Payload[. גם כותרת ה-]{dir="rtl"}IP [וגם הנתונים
    יוכנסו כאן אם נעשה שימוש בפרוטוקול אינטרנט דרך]{dir="rtl"}
    Ethernet[. הנתונים המקסימליים הקיימים עשויים להיות עד 1500
    בייטים.]{dir="rtl"}

> [ ]{dir="rtl"}

-   PAD [- ביט נוסף לגילוי התנגשות תוך כי שידור.]{dir="rtl"}

> [ ]{dir="rtl"}

-   [קוד]{dir="rtl"} CRC [לגילוי שגיאות.]{dir="rtl"}

> [ ]{dir="rtl"}
>
> [(השדות עשויות להשתנות מעט, בהתאם לתקן המסגרת).]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> [[מאפייני]{dir="rtl"} Ethernet[:]{dir="rtl"}]{.underline}
>
> [ ]{dir="rtl"}
>
> [טכנולוגיה ללא חיבור, כלומר אין לחיצת יד או אישור מפורש בין שליחה
> וקבלה של כרטיסי ממשק רשת (]{dir="rtl"}NIC[). ה-]{dir="rtl"}NIC [המקבל
> אינו שולח]{dir="rtl"} ACKs [(אישור) או]{dir="rtl"} NAKs [(אישור שלילי)
> לשולח. אם השולח הראשוני לא משתמש בפרוטוקולים של שכבה גבוהה יותר
> כמו]{dir="rtl"} TCP [(פרוטוקול בקרת שידור), כל הנתונים שאבדו במסגרות
> שנשמטו לא ישוחזרו.]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> [כל פרוטוקול קישור, כגון]{dir="rtl"} WiFi [ו-]{dir="rtl"}Ethernet[,
> מספק שירותים ופונקציונליות שונים. הם עשויים להיות בעלי מאפיינים
> משתנים, כגון רמת האמינות בהעברת נתונים. לדוגמה,]{dir="rtl"} WiFi [עשוי
> להיות פחות אמין בהשוואה לאתרנט עקב הפרעות פוטנציאליות או אובדן
> אות.]{dir="rtl"}

-   [ב]{dir="rtl"}Wifi [נרצה לאפשר מסירה אמינה בין נקודה
    לנקודה.]{dir="rtl"}

> [ברשתות]{dir="rtl"} Wi-Fi[, כאשר מכשיר משדר מסגרת נתונים למכשיר אחר
> (כגון נתב אלחוטי), המכשיר המקבל חייב לאשר את הקליטה המוצלחת של המסגרת.
> אישור זה נשלח בחזרה למכשיר המשדר בצורה של מסגרת]{dir="rtl"}
> ACK[.]{dir="rtl"}

-   [בפרוטקול]{dir="rtl"} ethernet [אין]{dir="rtl"} ack[, כי מניחים
    שהחבילה הגיעה (למרות שיכול להיות שהשתבשו ביטים בדרך).]{dir="rtl"}
    [למסגרות]{dir="rtl"} ethernet [יש אמינות גבוהה יותר.]{dir="rtl"}

> [על ידי שימוש בפרוטוקולי קישור שונים ושימוש בקישורים שונים, הרשת יכולה
> ליצור קישוריות מקצה לקצה ולהבטיח ש-]{dir="rtl"}datagram [יגיע ליעדו
> בצורה מהימנה, גם אם לפרוטוקולי קישור שונים יש מאפיינים ושירותים
> משתנים.]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> ![Important](image2.png){width="0.16666666666666666in"
> height="0.16666666666666666in"}[ [מתגים -
> ]{.underline}]{dir="rtl"}[switches[:]{dir="rtl"}]{.underline}
>
> [ה]{dir="rtl"}switch[: פועל בשכבה 2. הוא בודק אמינות, נשתמש בו כדי
> לחבר בין שני מכשירים שונים הנמצאים אותה תת רשת.]{dir="rtl"}
>
> store & forward [- מחכה עד שכל ההודעה נכנסה לנתב ורק אח\"כ מוציא אותה
> להמשך מסלול לבדיקת אמינות.]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> [כדי לחבר בין כשירים בתוך הרשת, נשתמש או ב]{dir="rtl"}bus [או באוויר
> או בסוויטש.]{dir="rtl"}
>
> [בסוויטש יהיו פחות התנגשויות מאשר ב]{dir="rtl"}bus[.]{dir="rtl"}
>
> ![](image164.png){width="2.4166666666666665in"
> height="2.125in"}
>
> [כל הסוויצ\'ים הם פול דופלקס, כלומר הם ניתן לשדר בשני הכיוונים יחד, מה
> שעלול לגרוש גם להתנגשויות רבות.]{dir="rtl"}
>
> [כאשר שולחים]{dir="rtl"} broadcast [בסוויץ\', זה ישלח אותו לכל ההוסטים
> המחוברים אליו, חוץ ממי ששלח את הברודקסט.]{dir="rtl"}
>
> [לכן אם נרצה לייעד את ההודעה להוסט מסויים, נשלח באמצעות
> כתובת]{dir="rtl"} MAC [(או שהיא תופיע כבר בבטבלה של
> הסוויץ\').]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> Switch table[:]{dir="rtl"}
>
> [מתגים שומרים על טבלת העברה, המכונה גם טבלת מתגים או טבלת
> כתובות]{dir="rtl"} MAC[, המסייעת להם לקבל החלטות העברה עבור מסגרות
> נכנסות. טבלת ההעברה מכילה ערכים הממפים כתובות]{dir="rtl"} MAC [לממשקים
> המתאימים דרכם ניתן להגיע למארחים המשויכים.]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> [שלב הלמידה]{dir="rtl"}:
>
> [אם]{dir="rtl"} A [רוצה לשלוח]{dir="rtl"} [חבילה ל]{dir="rtl"}A[\' אבל
> לא יודע את כתובת ה]{dir="rtl"}MAC [שלו, אז]{dir="rtl"} A
> [מפעיל]{dir="rtl"} looding A:F [יישלח ברודקאסט (שיגיע לכולם). כל
> האחרים יזרקו את ההודעה חוץ מ]{dir="rtl"}A\'[.]{dir="rtl"}
>
> [לאחר מכן]{dir="rtl"} A[\' מאחסן את כתובת ה-]{dir="rtl"}MAC [של המקור
> (כתובת ה-]{dir="rtl"}MAC [של]{dir="rtl"} A[) בטבלת ההעברה
> שלו.]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> [כך הטבלה מתמלאת.]{dir="rtl"}
>
> [מאוחר יותר, כאשר]{dir="rtl"} B [רוצה לשלוח מסגרת ל-]{dir="rtl"}A[,
> הוא בוחן את טבלת ההעברה שלו. אם]{dir="rtl"} B [מוצא ערך
> עבור]{dir="rtl"} A[, הוא יודע את כתובת ה-]{dir="rtl"}MAC
> [של]{dir="rtl"} A [ויכול להעביר את המסגרת ישירות לממשק המתאים. אם
> הערך]{dir="rtl"} TTL [עדיין תקף ו-]{dir="rtl"}A [כבר נמצא בטבלת
> ההעברה,]{dir="rtl"} B [יכול לעדכן את ערך ה-]{dir="rtl"}TTL [במידת
> הצורך.]{dir="rtl"}
>
> ![](image165.png){width="4.541666666666667in"
> height="0.95in"}
>
> [ ]{dir="rtl"}
>
> [תהליך למידה עצמית זה מאפשר למתגים לבנות ולתחזק באופן דינמי את טבלאות
> ההעברה שלהם בהתבסס על תעבורת רשת נצפית, להפחית שידורים מיותרים והצפה
> של פריימים ולשפר את יעילות הרשת הכוללת.]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> [דוגמא נוספת:]{dir="rtl"}
>
> ![](image166.png){width="5.833333333333333in"
> height="1.95in"}
>
> [פעולה עם מספר סוויטשים:]{dir="rtl"}
>
> [אם מכשיר מכתובת]{dir="rtl"} A [רוצה לשלוח הודעה למכשיר
> מכתובת]{dir="rtl"} , G [הוא ישדר הודעה בברודקאסט לכל המכשירים שמחוברים
> איתו לסוויץ\']{dir="rtl"} S1 [(כי לא מכיר את ה]{dir="rtl"}MAC
> [של]{dir="rtl"} G[).]{dir="rtl"}

-   B [ו]{dir="rtl"}C [מבטלים את ההודעה.]{dir="rtl"}

-   S4 [מעביר את ההודעה לכל המכשירים המחוברים אליו]{dir="rtl"} S2,S3[,
    ושומר את]{dir="rtl"} A [על פורט 1.]{dir="rtl"}

-   S2 [משדר את ההודעה לכל המכשירים, וכולם מבטלים את ההודעה חוץ
    מ]{dir="rtl"}S2 [ששומר את]{dir="rtl"} A [על פורט 1.]{dir="rtl"}

-   S3 [משדר את ההודעה לכל המכשירים.]{dir="rtl"} H [ו]{dir="rtl"}I
    [מבטלים את ההודעה, אבל]{dir="rtl"} G [שומרת אותה.]{dir="rtl"}

-   S3 [שומר את]{dir="rtl"} A [ביציאה 1 בטבלת ההעברה שלו.]{dir="rtl"}

> [ ]{dir="rtl"}
>
> [אם]{dir="rtl"} H [רוצה לשלוח הודעה ל-]{dir="rtl"}A [עכשיו, הוא ישלח
> את ההודעה מ-]{dir="rtl"}S3 [בפורט 1 (כפי שהיא שמורה בטבלה). ההודעה
> תועבר ל-]{dir="rtl"}S4[, אשר לאחר מכן יעביר אותה ל-]{dir="rtl"}S1[,
> ולבסוף,]{dir="rtl"} S1 [יעביר אותה ל-]{dir="rtl"}A[. כמובן שהיציאה
> של]{dir="rtl"} H [מתעדכנת ל-3 בכל המתגים.]{dir="rtl"}
>
> [ ]{dir="rtl"}
>
> **[מתגים לעומת נתבים:]{dir="rtl"}**
>
> [ ]{dir="rtl"}
>
> [מתגים ונתבים הם שניהם התקני אחסון והעברה
> (]{dir="rtl"}store&forwarding[) אך פועלים בשכבות שונות
> ברשת.]{dir="rtl"}

-   [**נתבים פועלים בשכבה 3**, בוחנים כותרות של שכבת רשת (למשל,
    כתובות]{dir="rtl"} IP[) כדי לקבל החלטות העברה.]{dir="rtl"}

-   [**מתגים פועלים בשכבה 2**, בוחנים כותרות של שכבת קישור (למשל,
    כתובות]{dir="rtl"} MAC[) כדי לקבל החלטות העברה.\
     ]{dir="rtl"}

-   [נתבים מחשבים טבלאות העברה באמצעות אלגוריתמי ניתוב.]{dir="rtl"}

-   [בעוד שמתגים לומדים טבלאות העברה המבוססות על כתובות]{dir="rtl"} MAC
    [באמצעות מנגנוני הצפה ולמידה.]{dir="rtl"}

> [ ]{dir="rtl"}

-   [תהליך הלמידה והעדכון של טבלת ההעברה במתגים דומה לאופן שבו טבלאות
    ניתוב מאוכלסות ומתוחזקות בפרוטוקולי ניתוב המשמשים
    בנתבים.]{dir="rtl"}

-   [עם זאת, מתגים מסתמכים בדרך כלל על למידה מקומית מכתובות
    ה-]{dir="rtl"}MAC [שנצפו במסגרות שהם מקבלים, בעוד שפרוטוקולי ניתוב
    כוללים החלפת מידע ניתוב בין נתבים כדי לבנות ולעדכן באופן דינמי
    טבלאות ניתוב.]{dir="rtl"}